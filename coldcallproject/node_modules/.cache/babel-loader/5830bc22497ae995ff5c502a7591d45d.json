{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nimport PropTypes from \"prop-types\";\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { cloneElement, useEffect, useMemo, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport chroma from 'chroma-js';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiColorPickerSwatch } from './color_picker_swatch';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiFieldText, EuiFormControlLayout, EuiFormRow, EuiRange } from '../form';\nimport { EuiI18n } from '../i18n';\nimport { EuiPopover } from '../popover';\nimport { EuiSpacer } from '../spacer';\nimport { VISUALIZATION_COLORS, keys } from '../../services';\nimport { EuiHue } from './hue';\nimport { EuiSaturation } from './saturation';\nimport { getChromaColor, parseColor, HEX_FALLBACK, HSV_FALLBACK, RGB_FALLBACK, RGB_JOIN } from './utils';\n\nfunction isKeyboardEvent(event) {\n  return _typeof(event) === 'object' && 'key' in event;\n}\n\nvar getOutput = function getOutput(text) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var color = getChromaColor(text, true);\n  var isValid = true;\n\n  if (!showAlpha && color !== null) {\n    isValid = color.alpha() === 1;\n  } // Note that if a consumer has disallowed opacity,\n  // we still return the color with an alpha channel, but mark it as invalid\n\n\n  return color ? {\n    rgba: color.rgba(),\n    hex: color.hex(),\n    isValid: isValid\n  } : {\n    rgba: RGB_FALLBACK,\n    hex: HEX_FALLBACK,\n    isValid: false\n  };\n};\n\nvar getHsv = function getHsv(hsv) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0; // Chroma's passthrough (RGB) parsing determines that black/white/gray are hue-less and returns `NaN`\n  // For our purposes we can process `NaN` as `0` if necessary\n\n  if (!hsv) return HSV_FALLBACK;\n  var hue = isNaN(hsv[0]) ? fallback : hsv[0];\n  return [hue, hsv[1], hsv[2]];\n};\n\nexport var EuiColorPicker = function EuiColorPicker(_ref) {\n  var _ref8;\n\n  var button = _ref.button,\n      className = _ref.className,\n      color = _ref.color,\n      _ref$compressed = _ref.compressed,\n      compressed = _ref$compressed === void 0 ? false : _ref$compressed,\n      disabled = _ref.disabled,\n      _ref$display = _ref.display,\n      display = _ref$display === void 0 ? 'default' : _ref$display,\n      _ref$fullWidth = _ref.fullWidth,\n      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,\n      id = _ref.id,\n      isInvalid = _ref.isInvalid,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onFocus = _ref.onFocus,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      _ref$swatches = _ref.swatches,\n      swatches = _ref$swatches === void 0 ? VISUALIZATION_COLORS : _ref$swatches,\n      popoverZIndex = _ref.popoverZIndex,\n      prepend = _ref.prepend,\n      append = _ref.append,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha,\n      format = _ref.format,\n      _ref$secondaryInputDi = _ref.secondaryInputDisplay,\n      secondaryInputDisplay = _ref$secondaryInputDi === void 0 ? 'none' : _ref$secondaryInputDi,\n      _ref$isClearable = _ref.isClearable,\n      isClearable = _ref$isClearable === void 0 ? false : _ref$isClearable,\n      placeholder = _ref.placeholder;\n  var preferredFormat = useMemo(function () {\n    if (format) return format;\n    var parsed = parseColor(color);\n    return parsed != null && _typeof(parsed) === 'object' ? 'rgba' : 'hex';\n  }, [color, format]);\n  var chromaColor = useMemo(function () {\n    return getChromaColor(color, showAlpha);\n  }, [color, showAlpha]);\n\n  var _useState = useState('100'),\n      _useState2 = _slicedToArray(_useState, 2),\n      alphaRangeValue = _useState2[0],\n      setAlphaRangeValue = _useState2[1];\n\n  var alphaChannel = useMemo(function () {\n    return chromaColor ? chromaColor.alpha() : 1;\n  }, [chromaColor]);\n  useEffect(function () {\n    var percent = (alphaChannel * 100).toFixed();\n    setAlphaRangeValue(percent);\n  }, [alphaChannel]);\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isColorSelectorShown = _useState4[0],\n      setIsColorSelectorShown = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      inputRef = _useState6[0],\n      setInputRef = _useState6[1]; // Ideally this is uses `useRef`, but `EuiFieldText` isn't ready for that\n\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      popoverShouldOwnFocus = _useState8[0],\n      setPopoverShouldOwnFocus = _useState8[1];\n\n  var prevColor = useRef(chromaColor ? chromaColor.rgba().join() : null);\n\n  var _useState9 = useState(chromaColor ? getHsv(chromaColor.hsv()) : HSV_FALLBACK),\n      _useState10 = _slicedToArray(_useState9, 2),\n      colorAsHsv = _useState10[0],\n      setColorAsHsv = _useState10[1];\n\n  var usableHsv = useMemo(function () {\n    if (chromaColor && chromaColor.rgba().join() !== prevColor.current) {\n      var _chromaColor$hsv = chromaColor.hsv(),\n          _chromaColor$hsv2 = _slicedToArray(_chromaColor$hsv, 3),\n          h = _chromaColor$hsv2[0],\n          s = _chromaColor$hsv2[1],\n          v = _chromaColor$hsv2[2];\n\n      var hue = isNaN(h) ? colorAsHsv[0] : h;\n      return [hue, s, v];\n    }\n\n    return colorAsHsv;\n  }, [chromaColor, colorAsHsv]);\n  var satruationRef = useRef(null);\n  var swatchRef = useRef(null);\n\n  var updateColorAsHsv = function updateColorAsHsv(_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 3),\n        h = _ref3[0],\n        s = _ref3[1],\n        v = _ref3[2];\n\n    setColorAsHsv(getHsv([h, s, v], usableHsv[0]));\n  };\n\n  var classes = classNames('euiColorPicker', className);\n  var popoverClass = 'euiColorPicker__popoverAnchor';\n  var panelClasses = classNames('euiColorPicker__popoverPanel', {\n    'euiColorPicker__popoverPanel--pickerOnly': mode === 'picker' && secondaryInputDisplay !== 'bottom',\n    'euiColorPicker__popoverPanel--customButton': button\n  });\n  var swatchClass = 'euiColorPicker__swatchSelect';\n  var testSubjAnchor = 'colorPickerAnchor';\n  var testSubjPopover = 'colorPickerPopover';\n  var inputClasses = classNames('euiColorPicker__input', {\n    'euiColorPicker__input--inGroup': prepend || append\n  });\n\n  var handleOnChange = function handleOnChange(text) {\n    var output = getOutput(text, showAlpha);\n\n    if (output.isValid) {\n      prevColor.current = output.rgba.join();\n    }\n\n    onChange(text, output);\n  };\n\n  var closeColorSelector = function closeColorSelector() {\n    var shouldDelay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (onBlur) {\n      onBlur();\n    }\n\n    if (shouldDelay) {\n      setTimeout(function () {\n        return setIsColorSelectorShown(false);\n      });\n    } else {\n      setIsColorSelectorShown(false);\n    }\n  };\n\n  var showColorSelector = function showColorSelector() {\n    var shouldFocusInside = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (isColorSelectorShown || readOnly) return;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    setPopoverShouldOwnFocus(shouldFocusInside);\n    setIsColorSelectorShown(true);\n  };\n\n  var handleToggle = function handleToggle() {\n    if (isColorSelectorShown) {\n      closeColorSelector();\n    } else {\n      showColorSelector(true);\n    }\n  };\n\n  var handleFinalSelection = function handleFinalSelection() {\n    // When the trigger is an input, focus the input so you can adjust\n    if (inputRef) {\n      inputRef.focus();\n    }\n\n    closeColorSelector(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.key === keys.ENTER) {\n      if (isColorSelectorShown) {\n        handleFinalSelection();\n      } else {\n        showColorSelector();\n      }\n    }\n  };\n\n  var handleInputActivity = function handleInputActivity(event) {\n    if (isKeyboardEvent(event)) {\n      if (event.key === keys.ENTER) {\n        event.preventDefault();\n        handleToggle();\n      }\n    } else {\n      showColorSelector();\n    }\n  };\n\n  var handleToggleOnKeyDown = function handleToggleOnKeyDown(event) {\n    if (event.key === keys.ARROW_DOWN) {\n      event.preventDefault();\n\n      if (isColorSelectorShown) {\n        var nextFocusEl = mode !== 'swatch' ? satruationRef : swatchRef;\n\n        if (nextFocusEl.current) {\n          nextFocusEl.current.focus();\n        }\n      } else {\n        showColorSelector(true);\n      }\n    }\n  };\n\n  var handleColorInput = function handleColorInput(event) {\n    handleOnChange(event.target.value);\n    var newColor = getChromaColor(event.target.value, showAlpha);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n  };\n\n  var handleClearInput = function handleClearInput() {\n    handleOnChange('');\n\n    if (secondaryInputDisplay === 'none' && isColorSelectorShown) {\n      closeColorSelector();\n    }\n  };\n\n  var updateWithHsv = function updateWithHsv(hsv) {\n    var color = chroma.hsv.apply(chroma, _toConsumableArray(hsv)).alpha(alphaChannel);\n    var formatted;\n\n    if (preferredFormat === 'rgba') {\n      formatted = alphaChannel < 1 ? color.rgba().join(RGB_JOIN) : color.rgb().join(RGB_JOIN);\n    } else {\n      formatted = color.hex();\n    }\n\n    handleOnChange(formatted);\n    updateColorAsHsv(hsv);\n  };\n\n  var handleColorSelection = function handleColorSelection(color) {\n    var _usableHsv = _slicedToArray(usableHsv, 1),\n        h = _usableHsv[0];\n\n    var _color = _slicedToArray(color, 3),\n        s = _color[1],\n        v = _color[2];\n\n    var newHsv = [h, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  var handleHueSelection = function handleHueSelection(hue) {\n    var _usableHsv2 = _slicedToArray(usableHsv, 3),\n        s = _usableHsv2[1],\n        v = _usableHsv2[2];\n\n    var newHsv = [hue, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  var handleSwatchSelection = function handleSwatchSelection(color) {\n    var newColor = getChromaColor(color, showAlpha);\n    handleOnChange(color);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n\n    handleFinalSelection();\n  };\n\n  var handleAlphaSelection = function handleAlphaSelection(e, isValid) {\n    var target = e.target;\n    setAlphaRangeValue(target.value || '');\n\n    if (isValid) {\n      var alpha = parseInt(target.value, 10) / 100;\n      var newColor = chromaColor ? chromaColor.alpha(alpha) : null;\n      var hex = newColor ? newColor.hex() : HEX_FALLBACK;\n      var rgba = newColor ? newColor.rgba() : RGB_FALLBACK;\n\n      var _text;\n\n      if (preferredFormat === 'rgba') {\n        _text = alpha < 1 ? rgba.join(RGB_JOIN) : rgba.slice(0, 3).join(RGB_JOIN);\n      } else {\n        _text = hex;\n      }\n\n      onChange(_text, {\n        hex: hex,\n        rgba: rgba,\n        isValid: !!newColor\n      });\n    }\n  };\n\n  var inlineInput = secondaryInputDisplay !== 'none' && /*#__PURE__*/React.createElement(EuiI18n, {\n    tokens: ['euiColorPicker.colorLabel', 'euiColorPicker.colorErrorMessage', 'euiColorPicker.transparent'],\n    defaults: ['Color value', 'Invalid color value', 'Transparent']\n  }, function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 3),\n        colorLabel = _ref5[0],\n        colorErrorMessage = _ref5[1],\n        transparent = _ref5[2];\n\n    return /*#__PURE__*/React.createElement(EuiFormRow, {\n      display: \"rowCompressed\",\n      isInvalid: isInvalid,\n      error: isInvalid ? colorErrorMessage : null\n    }, /*#__PURE__*/React.createElement(EuiFormControlLayout, {\n      clear: isClearable && color && !readOnly && !disabled ? {\n        onClick: handleClearInput\n      } : undefined,\n      readOnly: readOnly,\n      compressed: compressed\n    }, /*#__PURE__*/React.createElement(EuiFieldText, {\n      compressed: true,\n      value: color ? color.toUpperCase() : HEX_FALLBACK,\n      placeholder: !color ? placeholder || transparent : undefined,\n      onChange: handleColorInput,\n      isInvalid: isInvalid,\n      disabled: disabled,\n      readOnly: readOnly,\n      \"aria-label\": colorLabel,\n      autoComplete: \"off\",\n      \"data-test-subj\": \"\".concat(secondaryInputDisplay, \"ColorPickerInput\")\n    })));\n  });\n  var showSecondaryInputOnly = mode === 'secondaryInput';\n  var showPicker = mode !== 'swatch' && !showSecondaryInputOnly;\n  var showSwatches = mode !== 'picker' && !showSecondaryInputOnly;\n  var composite = /*#__PURE__*/React.createElement(React.Fragment, null, secondaryInputDisplay === 'top' && /*#__PURE__*/React.createElement(React.Fragment, null, inlineInput, /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  })), showPicker && /*#__PURE__*/React.createElement(\"div\", {\n    onKeyDown: handleOnKeyDown\n  }, /*#__PURE__*/React.createElement(EuiSaturation, {\n    id: id,\n    color: usableHsv,\n    hex: chromaColor ? chromaColor.hex() : undefined,\n    onChange: handleColorSelection,\n    ref: satruationRef\n  }), /*#__PURE__*/React.createElement(EuiHue, {\n    id: id,\n    hue: usableHsv[0],\n    hex: chromaColor ? chromaColor.hex() : undefined,\n    onChange: handleHueSelection\n  })), showSwatches && /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    wrap: true,\n    responsive: false,\n    gutterSize: \"s\",\n    role: \"listbox\"\n  }, swatches.map(function (swatch, index) {\n    return /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      key: swatch\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColorPicker.swatchAriaLabel\",\n      values: {\n        swatch: swatch\n      },\n      default: \"Select {swatch} as the color\"\n    }, function (swatchAriaLabel) {\n      return /*#__PURE__*/React.createElement(EuiColorPickerSwatch, {\n        className: swatchClass,\n        color: swatch,\n        onClick: function onClick() {\n          return handleSwatchSelection(swatch);\n        },\n        \"aria-label\": swatchAriaLabel,\n        role: \"option\",\n        ref: index === 0 ? swatchRef : undefined\n      });\n    }));\n  })), secondaryInputDisplay === 'bottom' && /*#__PURE__*/React.createElement(React.Fragment, null, mode !== 'picker' && /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), inlineInput), showAlpha && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColorPicker.alphaLabel\",\n    default: \"Alpha channel (opacity) value\"\n  }, function (alphaLabel) {\n    return /*#__PURE__*/React.createElement(EuiRange, {\n      className: \"euiColorPicker__alphaRange\",\n      \"data-test-subj\": \"colorPickerAlpha\",\n      compressed: true,\n      showInput: true,\n      max: 100,\n      min: 0,\n      value: alphaRangeValue,\n      append: \"%\",\n      onChange: handleAlphaSelection,\n      \"aria-label\": alphaLabel\n    });\n  })));\n  var buttonOrInput;\n\n  if (button) {\n    buttonOrInput = /*#__PURE__*/cloneElement(button, {\n      onClick: handleToggle,\n      id: id,\n      disabled: disabled,\n      'data-test-subj': testSubjAnchor\n    });\n  } else {\n    var colorStyle = chromaColor ? chromaColor.css() : undefined;\n    buttonOrInput = /*#__PURE__*/React.createElement(EuiFormControlLayout, {\n      icon: !readOnly ? {\n        type: 'arrowDown',\n        side: 'right'\n      } : undefined,\n      clear: isClearable && color && !readOnly && !disabled ? {\n        onClick: handleClearInput\n      } : undefined,\n      readOnly: readOnly,\n      fullWidth: fullWidth,\n      compressed: compressed,\n      onKeyDown: handleToggleOnKeyDown,\n      prepend: prepend,\n      append: append\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      // Used to pass the chosen color through to form layout SVG using currentColor\n      style: {\n        color: colorStyle\n      }\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      tokens: ['euiColorPicker.openLabel', 'euiColorPicker.closeLabel', 'euiColorPicker.transparent'],\n      defaults: ['Press the escape key to close the popover', 'Press the down key to open a popover containing color options', 'Transparent']\n    }, function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 3),\n          openLabel = _ref7[0],\n          closeLabel = _ref7[1],\n          transparent = _ref7[2];\n\n      return /*#__PURE__*/React.createElement(EuiFieldText, {\n        className: inputClasses,\n        onClick: handleInputActivity,\n        onKeyDown: handleInputActivity,\n        value: color ? color.toUpperCase() : HEX_FALLBACK,\n        placeholder: !color ? placeholder || transparent : undefined,\n        id: id,\n        onChange: handleColorInput,\n        icon: chromaColor ? 'swatchInput' : 'stopSlash',\n        inputRef: setInputRef,\n        isInvalid: isInvalid,\n        compressed: compressed,\n        disabled: disabled,\n        readOnly: readOnly,\n        fullWidth: fullWidth,\n        autoComplete: \"off\",\n        \"data-test-subj\": testSubjAnchor,\n        \"aria-label\": isColorSelectorShown ? openLabel : closeLabel\n      });\n    })));\n  }\n\n  return display === 'inline' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, composite) : /*#__PURE__*/React.createElement(EuiPopover, {\n    ownFocus: popoverShouldOwnFocus,\n    initialFocus: (_ref8 = mode !== 'swatch' ? satruationRef.current : swatchRef.current) !== null && _ref8 !== void 0 ? _ref8 : undefined,\n    button: buttonOrInput,\n    isOpen: isColorSelectorShown,\n    closePopover: handleFinalSelection,\n    zIndex: popoverZIndex,\n    className: popoverClass,\n    panelClassName: panelClasses,\n    display: button ? 'inlineBlock' : 'block',\n    attachToAnchor: button ? false : true,\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes,\n    \"data-test-subj\": testSubjPopover\n  }, /*#__PURE__*/React.createElement(EuiFocusTrap, {\n    clickOutsideDisables: true\n  }, /*#__PURE__*/React.createElement(EuiScreenReaderOnly, null, /*#__PURE__*/React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColorPicker.screenReaderAnnouncement\",\n    default: \"A popup with a range of selectable colors opened. Tab forward to cycle through colors choices or press escape to close this popup.\"\n  }))), composite)));\n};\nEuiColorPicker.propTypes = {\n  /**\n     *  Custom element to use instead of text input\n     */\n  button: PropTypes.element,\n\n  /**\n     *  Use the compressed style for EuiFieldText\n     */\n  compressed: PropTypes.bool,\n  display: PropTypes.oneOf([\"default\", \"inline\"]),\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n     *  Custom validation flag\n     */\n  isInvalid: PropTypes.bool,\n\n  /**\n     * Choose between swatches with gradient picker (default), swatches only, gradient picker only, or secondary input only.\n     */\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n\n  /**\n     *  Custom z-index for the popover\n     */\n  popoverZIndex: PropTypes.number,\n  readOnly: PropTypes.bool,\n\n  /**\n     *  Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\n     */\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n\n  /**\n     * Creates an input group with element(s) coming before input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  prepend: PropTypes.any,\n\n  /**\n     * Creates an input group with element(s) coming after input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  append: PropTypes.any,\n\n  /**\n     * Whether to render the alpha channel (opacity) value range slider.\n     */\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Will format the text input in the provided format when possible (hue and saturation selection)\n     * Exceptions: Manual text input and swatches will display as-authored\n     * Default is to display the last format entered by the user\n     */\n  format: PropTypes.oneOf([\"hex\", \"rgba\"]),\n\n  /**\n     * Placement option for a secondary color value input.\n     */\n  secondaryInputDisplay: PropTypes.oneOf([\"top\", \"bottom\", \"none\"]),\n\n  /**\n     * Add a button to the primary input to clear its value.\n     */\n  isClearable: PropTypes.bool,\n\n  /**\n     * Text to replace the default 'Transparent' placeholder for unset color values.\n     */\n  placeholder: PropTypes.string,\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     * hex (string)\n     * RGB (as comma separated string)\n     * RGBa (as comma separated string)\n     * Empty string will register as 'transparent'\n     */\n  color: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  onBlur: PropTypes.func,\n\n  /**\n     * text (string, as entered or selected)\n     * hex (8-digit hex if alpha < 1, otherwise 6-digit hex)\n     * RGBa (as array; values of NaN if color is invalid)\n     * isValid (boolean signifying if the input text is a valid color)\n     */\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func\n};","map":{"version":3,"sources":["/Users/inwoo/Projects/coldcallproject/coldcallproject/node_modules/@elastic/eui/es/components/color_picker/color_picker.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","Array","from","isArray","_arrayLikeToArray","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","prototype","toString","call","slice","constructor","name","test","len","length","arr2","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","_typeof","obj","PropTypes","React","cloneElement","useEffect","useMemo","useRef","useState","classNames","chroma","EuiScreenReaderOnly","EuiColorPickerSwatch","EuiFocusTrap","EuiFlexGroup","EuiFlexItem","EuiFieldText","EuiFormControlLayout","EuiFormRow","EuiRange","EuiI18n","EuiPopover","EuiSpacer","VISUALIZATION_COLORS","keys","EuiHue","EuiSaturation","getChromaColor","parseColor","HEX_FALLBACK","HSV_FALLBACK","RGB_FALLBACK","RGB_JOIN","isKeyboardEvent","event","getOutput","text","showAlpha","arguments","color","isValid","alpha","rgba","hex","getHsv","hsv","fallback","hue","isNaN","EuiColorPicker","_ref","_ref8","button","className","_ref$compressed","compressed","disabled","_ref$display","display","_ref$fullWidth","fullWidth","id","isInvalid","_ref$mode","mode","onBlur","onChange","onFocus","_ref$readOnly","readOnly","_ref$swatches","swatches","popoverZIndex","prepend","append","_ref$showAlpha","format","_ref$secondaryInputDi","secondaryInputDisplay","_ref$isClearable","isClearable","placeholder","preferredFormat","parsed","chromaColor","_useState","_useState2","alphaRangeValue","setAlphaRangeValue","alphaChannel","percent","toFixed","_useState3","_useState4","isColorSelectorShown","setIsColorSelectorShown","_useState5","_useState6","inputRef","setInputRef","_useState7","_useState8","popoverShouldOwnFocus","setPopoverShouldOwnFocus","prevColor","join","_useState9","_useState10","colorAsHsv","setColorAsHsv","usableHsv","current","_chromaColor$hsv","_chromaColor$hsv2","h","s","v","satruationRef","swatchRef","updateColorAsHsv","_ref2","_ref3","classes","popoverClass","panelClasses","swatchClass","testSubjAnchor","testSubjPopover","inputClasses","handleOnChange","output","closeColorSelector","shouldDelay","setTimeout","showColorSelector","shouldFocusInside","handleToggle","handleFinalSelection","focus","handleOnKeyDown","key","ENTER","handleInputActivity","preventDefault","handleToggleOnKeyDown","ARROW_DOWN","nextFocusEl","handleColorInput","target","newColor","handleClearInput","updateWithHsv","apply","formatted","rgb","handleColorSelection","_usableHsv","_color","newHsv","handleHueSelection","_usableHsv2","handleSwatchSelection","handleAlphaSelection","e","parseInt","_text","inlineInput","createElement","tokens","defaults","_ref4","_ref5","colorLabel","colorErrorMessage","transparent","error","clear","onClick","toUpperCase","autoComplete","concat","showSecondaryInputOnly","showPicker","showSwatches","composite","Fragment","size","onKeyDown","ref","wrap","responsive","gutterSize","role","map","swatch","index","grow","token","values","default","swatchAriaLabel","alphaLabel","showInput","max","min","buttonOrInput","colorStyle","css","icon","type","side","style","_ref6","_ref7","openLabel","closeLabel","ownFocus","initialFocus","isOpen","closePopover","zIndex","panelClassName","attachToAnchor","anchorPosition","panelPaddingSize","clickOutsideDisables","propTypes","element","bool","oneOf","string","number","arrayOf","isRequired","any","oneOfType","func"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport PropTypes from \"prop-types\";\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { cloneElement, useEffect, useMemo, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport chroma from 'chroma-js';\nimport { EuiScreenReaderOnly } from '../accessibility';\nimport { EuiColorPickerSwatch } from './color_picker_swatch';\nimport { EuiFocusTrap } from '../focus_trap';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiFieldText, EuiFormControlLayout, EuiFormRow, EuiRange } from '../form';\nimport { EuiI18n } from '../i18n';\nimport { EuiPopover } from '../popover';\nimport { EuiSpacer } from '../spacer';\nimport { VISUALIZATION_COLORS, keys } from '../../services';\nimport { EuiHue } from './hue';\nimport { EuiSaturation } from './saturation';\nimport { getChromaColor, parseColor, HEX_FALLBACK, HSV_FALLBACK, RGB_FALLBACK, RGB_JOIN } from './utils';\n\nfunction isKeyboardEvent(event) {\n  return _typeof(event) === 'object' && 'key' in event;\n}\n\nvar getOutput = function getOutput(text) {\n  var showAlpha = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var color = getChromaColor(text, true);\n  var isValid = true;\n\n  if (!showAlpha && color !== null) {\n    isValid = color.alpha() === 1;\n  } // Note that if a consumer has disallowed opacity,\n  // we still return the color with an alpha channel, but mark it as invalid\n\n\n  return color ? {\n    rgba: color.rgba(),\n    hex: color.hex(),\n    isValid: isValid\n  } : {\n    rgba: RGB_FALLBACK,\n    hex: HEX_FALLBACK,\n    isValid: false\n  };\n};\n\nvar getHsv = function getHsv(hsv) {\n  var fallback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Chroma's passthrough (RGB) parsing determines that black/white/gray are hue-less and returns `NaN`\n  // For our purposes we can process `NaN` as `0` if necessary\n  if (!hsv) return HSV_FALLBACK;\n  var hue = isNaN(hsv[0]) ? fallback : hsv[0];\n  return [hue, hsv[1], hsv[2]];\n};\n\nexport var EuiColorPicker = function EuiColorPicker(_ref) {\n  var _ref8;\n\n  var button = _ref.button,\n      className = _ref.className,\n      color = _ref.color,\n      _ref$compressed = _ref.compressed,\n      compressed = _ref$compressed === void 0 ? false : _ref$compressed,\n      disabled = _ref.disabled,\n      _ref$display = _ref.display,\n      display = _ref$display === void 0 ? 'default' : _ref$display,\n      _ref$fullWidth = _ref.fullWidth,\n      fullWidth = _ref$fullWidth === void 0 ? false : _ref$fullWidth,\n      id = _ref.id,\n      isInvalid = _ref.isInvalid,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      onBlur = _ref.onBlur,\n      onChange = _ref.onChange,\n      onFocus = _ref.onFocus,\n      _ref$readOnly = _ref.readOnly,\n      readOnly = _ref$readOnly === void 0 ? false : _ref$readOnly,\n      _ref$swatches = _ref.swatches,\n      swatches = _ref$swatches === void 0 ? VISUALIZATION_COLORS : _ref$swatches,\n      popoverZIndex = _ref.popoverZIndex,\n      prepend = _ref.prepend,\n      append = _ref.append,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha,\n      format = _ref.format,\n      _ref$secondaryInputDi = _ref.secondaryInputDisplay,\n      secondaryInputDisplay = _ref$secondaryInputDi === void 0 ? 'none' : _ref$secondaryInputDi,\n      _ref$isClearable = _ref.isClearable,\n      isClearable = _ref$isClearable === void 0 ? false : _ref$isClearable,\n      placeholder = _ref.placeholder;\n  var preferredFormat = useMemo(function () {\n    if (format) return format;\n    var parsed = parseColor(color);\n    return parsed != null && _typeof(parsed) === 'object' ? 'rgba' : 'hex';\n  }, [color, format]);\n  var chromaColor = useMemo(function () {\n    return getChromaColor(color, showAlpha);\n  }, [color, showAlpha]);\n\n  var _useState = useState('100'),\n      _useState2 = _slicedToArray(_useState, 2),\n      alphaRangeValue = _useState2[0],\n      setAlphaRangeValue = _useState2[1];\n\n  var alphaChannel = useMemo(function () {\n    return chromaColor ? chromaColor.alpha() : 1;\n  }, [chromaColor]);\n  useEffect(function () {\n    var percent = (alphaChannel * 100).toFixed();\n    setAlphaRangeValue(percent);\n  }, [alphaChannel]);\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isColorSelectorShown = _useState4[0],\n      setIsColorSelectorShown = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      inputRef = _useState6[0],\n      setInputRef = _useState6[1]; // Ideally this is uses `useRef`, but `EuiFieldText` isn't ready for that\n\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      popoverShouldOwnFocus = _useState8[0],\n      setPopoverShouldOwnFocus = _useState8[1];\n\n  var prevColor = useRef(chromaColor ? chromaColor.rgba().join() : null);\n\n  var _useState9 = useState(chromaColor ? getHsv(chromaColor.hsv()) : HSV_FALLBACK),\n      _useState10 = _slicedToArray(_useState9, 2),\n      colorAsHsv = _useState10[0],\n      setColorAsHsv = _useState10[1];\n\n  var usableHsv = useMemo(function () {\n    if (chromaColor && chromaColor.rgba().join() !== prevColor.current) {\n      var _chromaColor$hsv = chromaColor.hsv(),\n          _chromaColor$hsv2 = _slicedToArray(_chromaColor$hsv, 3),\n          h = _chromaColor$hsv2[0],\n          s = _chromaColor$hsv2[1],\n          v = _chromaColor$hsv2[2];\n\n      var hue = isNaN(h) ? colorAsHsv[0] : h;\n      return [hue, s, v];\n    }\n\n    return colorAsHsv;\n  }, [chromaColor, colorAsHsv]);\n  var satruationRef = useRef(null);\n  var swatchRef = useRef(null);\n\n  var updateColorAsHsv = function updateColorAsHsv(_ref2) {\n    var _ref3 = _slicedToArray(_ref2, 3),\n        h = _ref3[0],\n        s = _ref3[1],\n        v = _ref3[2];\n\n    setColorAsHsv(getHsv([h, s, v], usableHsv[0]));\n  };\n\n  var classes = classNames('euiColorPicker', className);\n  var popoverClass = 'euiColorPicker__popoverAnchor';\n  var panelClasses = classNames('euiColorPicker__popoverPanel', {\n    'euiColorPicker__popoverPanel--pickerOnly': mode === 'picker' && secondaryInputDisplay !== 'bottom',\n    'euiColorPicker__popoverPanel--customButton': button\n  });\n  var swatchClass = 'euiColorPicker__swatchSelect';\n  var testSubjAnchor = 'colorPickerAnchor';\n  var testSubjPopover = 'colorPickerPopover';\n  var inputClasses = classNames('euiColorPicker__input', {\n    'euiColorPicker__input--inGroup': prepend || append\n  });\n\n  var handleOnChange = function handleOnChange(text) {\n    var output = getOutput(text, showAlpha);\n\n    if (output.isValid) {\n      prevColor.current = output.rgba.join();\n    }\n\n    onChange(text, output);\n  };\n\n  var closeColorSelector = function closeColorSelector() {\n    var shouldDelay = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    if (onBlur) {\n      onBlur();\n    }\n\n    if (shouldDelay) {\n      setTimeout(function () {\n        return setIsColorSelectorShown(false);\n      });\n    } else {\n      setIsColorSelectorShown(false);\n    }\n  };\n\n  var showColorSelector = function showColorSelector() {\n    var shouldFocusInside = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    if (isColorSelectorShown || readOnly) return;\n\n    if (onFocus) {\n      onFocus();\n    }\n\n    setPopoverShouldOwnFocus(shouldFocusInside);\n    setIsColorSelectorShown(true);\n  };\n\n  var handleToggle = function handleToggle() {\n    if (isColorSelectorShown) {\n      closeColorSelector();\n    } else {\n      showColorSelector(true);\n    }\n  };\n\n  var handleFinalSelection = function handleFinalSelection() {\n    // When the trigger is an input, focus the input so you can adjust\n    if (inputRef) {\n      inputRef.focus();\n    }\n\n    closeColorSelector(true);\n  };\n\n  var handleOnKeyDown = function handleOnKeyDown(event) {\n    if (event.key === keys.ENTER) {\n      if (isColorSelectorShown) {\n        handleFinalSelection();\n      } else {\n        showColorSelector();\n      }\n    }\n  };\n\n  var handleInputActivity = function handleInputActivity(event) {\n    if (isKeyboardEvent(event)) {\n      if (event.key === keys.ENTER) {\n        event.preventDefault();\n        handleToggle();\n      }\n    } else {\n      showColorSelector();\n    }\n  };\n\n  var handleToggleOnKeyDown = function handleToggleOnKeyDown(event) {\n    if (event.key === keys.ARROW_DOWN) {\n      event.preventDefault();\n\n      if (isColorSelectorShown) {\n        var nextFocusEl = mode !== 'swatch' ? satruationRef : swatchRef;\n\n        if (nextFocusEl.current) {\n          nextFocusEl.current.focus();\n        }\n      } else {\n        showColorSelector(true);\n      }\n    }\n  };\n\n  var handleColorInput = function handleColorInput(event) {\n    handleOnChange(event.target.value);\n    var newColor = getChromaColor(event.target.value, showAlpha);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n  };\n\n  var handleClearInput = function handleClearInput() {\n    handleOnChange('');\n\n    if (secondaryInputDisplay === 'none' && isColorSelectorShown) {\n      closeColorSelector();\n    }\n  };\n\n  var updateWithHsv = function updateWithHsv(hsv) {\n    var color = chroma.hsv.apply(chroma, _toConsumableArray(hsv)).alpha(alphaChannel);\n    var formatted;\n\n    if (preferredFormat === 'rgba') {\n      formatted = alphaChannel < 1 ? color.rgba().join(RGB_JOIN) : color.rgb().join(RGB_JOIN);\n    } else {\n      formatted = color.hex();\n    }\n\n    handleOnChange(formatted);\n    updateColorAsHsv(hsv);\n  };\n\n  var handleColorSelection = function handleColorSelection(color) {\n    var _usableHsv = _slicedToArray(usableHsv, 1),\n        h = _usableHsv[0];\n\n    var _color = _slicedToArray(color, 3),\n        s = _color[1],\n        v = _color[2];\n\n    var newHsv = [h, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  var handleHueSelection = function handleHueSelection(hue) {\n    var _usableHsv2 = _slicedToArray(usableHsv, 3),\n        s = _usableHsv2[1],\n        v = _usableHsv2[2];\n\n    var newHsv = [hue, s, v];\n    updateWithHsv(newHsv);\n  };\n\n  var handleSwatchSelection = function handleSwatchSelection(color) {\n    var newColor = getChromaColor(color, showAlpha);\n    handleOnChange(color);\n\n    if (newColor) {\n      updateColorAsHsv(newColor.hsv());\n    }\n\n    handleFinalSelection();\n  };\n\n  var handleAlphaSelection = function handleAlphaSelection(e, isValid) {\n    var target = e.target;\n    setAlphaRangeValue(target.value || '');\n\n    if (isValid) {\n      var alpha = parseInt(target.value, 10) / 100;\n      var newColor = chromaColor ? chromaColor.alpha(alpha) : null;\n      var hex = newColor ? newColor.hex() : HEX_FALLBACK;\n      var rgba = newColor ? newColor.rgba() : RGB_FALLBACK;\n\n      var _text;\n\n      if (preferredFormat === 'rgba') {\n        _text = alpha < 1 ? rgba.join(RGB_JOIN) : rgba.slice(0, 3).join(RGB_JOIN);\n      } else {\n        _text = hex;\n      }\n\n      onChange(_text, {\n        hex: hex,\n        rgba: rgba,\n        isValid: !!newColor\n      });\n    }\n  };\n\n  var inlineInput = secondaryInputDisplay !== 'none' && /*#__PURE__*/React.createElement(EuiI18n, {\n    tokens: ['euiColorPicker.colorLabel', 'euiColorPicker.colorErrorMessage', 'euiColorPicker.transparent'],\n    defaults: ['Color value', 'Invalid color value', 'Transparent']\n  }, function (_ref4) {\n    var _ref5 = _slicedToArray(_ref4, 3),\n        colorLabel = _ref5[0],\n        colorErrorMessage = _ref5[1],\n        transparent = _ref5[2];\n\n    return /*#__PURE__*/React.createElement(EuiFormRow, {\n      display: \"rowCompressed\",\n      isInvalid: isInvalid,\n      error: isInvalid ? colorErrorMessage : null\n    }, /*#__PURE__*/React.createElement(EuiFormControlLayout, {\n      clear: isClearable && color && !readOnly && !disabled ? {\n        onClick: handleClearInput\n      } : undefined,\n      readOnly: readOnly,\n      compressed: compressed\n    }, /*#__PURE__*/React.createElement(EuiFieldText, {\n      compressed: true,\n      value: color ? color.toUpperCase() : HEX_FALLBACK,\n      placeholder: !color ? placeholder || transparent : undefined,\n      onChange: handleColorInput,\n      isInvalid: isInvalid,\n      disabled: disabled,\n      readOnly: readOnly,\n      \"aria-label\": colorLabel,\n      autoComplete: \"off\",\n      \"data-test-subj\": \"\".concat(secondaryInputDisplay, \"ColorPickerInput\")\n    })));\n  });\n  var showSecondaryInputOnly = mode === 'secondaryInput';\n  var showPicker = mode !== 'swatch' && !showSecondaryInputOnly;\n  var showSwatches = mode !== 'picker' && !showSecondaryInputOnly;\n  var composite = /*#__PURE__*/React.createElement(React.Fragment, null, secondaryInputDisplay === 'top' && /*#__PURE__*/React.createElement(React.Fragment, null, inlineInput, /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  })), showPicker && /*#__PURE__*/React.createElement(\"div\", {\n    onKeyDown: handleOnKeyDown\n  }, /*#__PURE__*/React.createElement(EuiSaturation, {\n    id: id,\n    color: usableHsv,\n    hex: chromaColor ? chromaColor.hex() : undefined,\n    onChange: handleColorSelection,\n    ref: satruationRef\n  }), /*#__PURE__*/React.createElement(EuiHue, {\n    id: id,\n    hue: usableHsv[0],\n    hex: chromaColor ? chromaColor.hex() : undefined,\n    onChange: handleHueSelection\n  })), showSwatches && /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    wrap: true,\n    responsive: false,\n    gutterSize: \"s\",\n    role: \"listbox\"\n  }, swatches.map(function (swatch, index) {\n    return /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      key: swatch\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColorPicker.swatchAriaLabel\",\n      values: {\n        swatch: swatch\n      },\n      default: \"Select {swatch} as the color\"\n    }, function (swatchAriaLabel) {\n      return /*#__PURE__*/React.createElement(EuiColorPickerSwatch, {\n        className: swatchClass,\n        color: swatch,\n        onClick: function onClick() {\n          return handleSwatchSelection(swatch);\n        },\n        \"aria-label\": swatchAriaLabel,\n        role: \"option\",\n        ref: index === 0 ? swatchRef : undefined\n      });\n    }));\n  })), secondaryInputDisplay === 'bottom' && /*#__PURE__*/React.createElement(React.Fragment, null, mode !== 'picker' && /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), inlineInput), showAlpha && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColorPicker.alphaLabel\",\n    default: \"Alpha channel (opacity) value\"\n  }, function (alphaLabel) {\n    return /*#__PURE__*/React.createElement(EuiRange, {\n      className: \"euiColorPicker__alphaRange\",\n      \"data-test-subj\": \"colorPickerAlpha\",\n      compressed: true,\n      showInput: true,\n      max: 100,\n      min: 0,\n      value: alphaRangeValue,\n      append: \"%\",\n      onChange: handleAlphaSelection,\n      \"aria-label\": alphaLabel\n    });\n  })));\n  var buttonOrInput;\n\n  if (button) {\n    buttonOrInput = /*#__PURE__*/cloneElement(button, {\n      onClick: handleToggle,\n      id: id,\n      disabled: disabled,\n      'data-test-subj': testSubjAnchor\n    });\n  } else {\n    var colorStyle = chromaColor ? chromaColor.css() : undefined;\n    buttonOrInput = /*#__PURE__*/React.createElement(EuiFormControlLayout, {\n      icon: !readOnly ? {\n        type: 'arrowDown',\n        side: 'right'\n      } : undefined,\n      clear: isClearable && color && !readOnly && !disabled ? {\n        onClick: handleClearInput\n      } : undefined,\n      readOnly: readOnly,\n      fullWidth: fullWidth,\n      compressed: compressed,\n      onKeyDown: handleToggleOnKeyDown,\n      prepend: prepend,\n      append: append\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      // Used to pass the chosen color through to form layout SVG using currentColor\n      style: {\n        color: colorStyle\n      }\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      tokens: ['euiColorPicker.openLabel', 'euiColorPicker.closeLabel', 'euiColorPicker.transparent'],\n      defaults: ['Press the escape key to close the popover', 'Press the down key to open a popover containing color options', 'Transparent']\n    }, function (_ref6) {\n      var _ref7 = _slicedToArray(_ref6, 3),\n          openLabel = _ref7[0],\n          closeLabel = _ref7[1],\n          transparent = _ref7[2];\n\n      return /*#__PURE__*/React.createElement(EuiFieldText, {\n        className: inputClasses,\n        onClick: handleInputActivity,\n        onKeyDown: handleInputActivity,\n        value: color ? color.toUpperCase() : HEX_FALLBACK,\n        placeholder: !color ? placeholder || transparent : undefined,\n        id: id,\n        onChange: handleColorInput,\n        icon: chromaColor ? 'swatchInput' : 'stopSlash',\n        inputRef: setInputRef,\n        isInvalid: isInvalid,\n        compressed: compressed,\n        disabled: disabled,\n        readOnly: readOnly,\n        fullWidth: fullWidth,\n        autoComplete: \"off\",\n        \"data-test-subj\": testSubjAnchor,\n        \"aria-label\": isColorSelectorShown ? openLabel : closeLabel\n      });\n    })));\n  }\n\n  return display === 'inline' ? /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, composite) : /*#__PURE__*/React.createElement(EuiPopover, {\n    ownFocus: popoverShouldOwnFocus,\n    initialFocus: (_ref8 = mode !== 'swatch' ? satruationRef.current : swatchRef.current) !== null && _ref8 !== void 0 ? _ref8 : undefined,\n    button: buttonOrInput,\n    isOpen: isColorSelectorShown,\n    closePopover: handleFinalSelection,\n    zIndex: popoverZIndex,\n    className: popoverClass,\n    panelClassName: panelClasses,\n    display: button ? 'inlineBlock' : 'block',\n    attachToAnchor: button ? false : true,\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes,\n    \"data-test-subj\": testSubjPopover\n  }, /*#__PURE__*/React.createElement(EuiFocusTrap, {\n    clickOutsideDisables: true\n  }, /*#__PURE__*/React.createElement(EuiScreenReaderOnly, null, /*#__PURE__*/React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColorPicker.screenReaderAnnouncement\",\n    default: \"A popup with a range of selectable colors opened. Tab forward to cycle through colors choices or press escape to close this popup.\"\n  }))), composite)));\n};\nEuiColorPicker.propTypes = {\n  /**\n     *  Custom element to use instead of text input\n     */\n  button: PropTypes.element,\n\n  /**\n     *  Use the compressed style for EuiFieldText\n     */\n  compressed: PropTypes.bool,\n  display: PropTypes.oneOf([\"default\", \"inline\"]),\n  disabled: PropTypes.bool,\n  fullWidth: PropTypes.bool,\n  id: PropTypes.string,\n\n  /**\n     *  Custom validation flag\n     */\n  isInvalid: PropTypes.bool,\n\n  /**\n     * Choose between swatches with gradient picker (default), swatches only, gradient picker only, or secondary input only.\n     */\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n\n  /**\n     *  Custom z-index for the popover\n     */\n  popoverZIndex: PropTypes.number,\n  readOnly: PropTypes.bool,\n\n  /**\n     *  Array of hex strings (3 or 6 character) to use as swatch options. Defaults to EUI visualization colors\n     */\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n\n  /**\n     * Creates an input group with element(s) coming before input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  prepend: PropTypes.any,\n\n  /**\n     * Creates an input group with element(s) coming after input. It only shows when the `display` is set to `default`.\n     * `string` | `ReactElement` or an array of these\n     */\n  append: PropTypes.any,\n\n  /**\n     * Whether to render the alpha channel (opacity) value range slider.\n     */\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Will format the text input in the provided format when possible (hue and saturation selection)\n     * Exceptions: Manual text input and swatches will display as-authored\n     * Default is to display the last format entered by the user\n     */\n  format: PropTypes.oneOf([\"hex\", \"rgba\"]),\n\n  /**\n     * Placement option for a secondary color value input.\n     */\n  secondaryInputDisplay: PropTypes.oneOf([\"top\", \"bottom\", \"none\"]),\n\n  /**\n     * Add a button to the primary input to clear its value.\n     */\n  isClearable: PropTypes.bool,\n\n  /**\n     * Text to replace the default 'Transparent' placeholder for unset color values.\n     */\n  placeholder: PropTypes.string,\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n     * hex (string)\n     * RGB (as comma separated string)\n     * RGBa (as comma separated string)\n     * Empty string will register as 'transparent'\n     */\n  color: PropTypes.oneOfType([PropTypes.string.isRequired, PropTypes.oneOf([null])]),\n  onBlur: PropTypes.func,\n\n  /**\n     * text (string, as entered or selected)\n     * hex (8-digit hex if alpha < 1, otherwise 6-digit hex)\n     * RGBa (as array; values of NaN if color is invalid)\n     * isValid (boolean signifying if the input text is a valid color)\n     */\n  onChange: PropTypes.func.isRequired,\n  onFocus: PropTypes.func\n};"]},"metadata":{},"sourceType":"module"}