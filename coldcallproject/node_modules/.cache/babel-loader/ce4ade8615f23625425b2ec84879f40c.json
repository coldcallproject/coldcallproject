{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Fragment, useState, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\n\nvar getShowColumnSelectorValue = function getShowColumnSelectorValue(showColumnSelector, valueName) {\n  if (showColumnSelector === false) return false;\n  if (showColumnSelector == null) return true;\n  if (showColumnSelector === true) return true;\n  return showColumnSelector[valueName] !== false;\n};\n\nexport var useDataGridColumnSelector = function useDataGridColumnSelector(availableColumns, columnVisibility, showColumnSelector, displayValues) {\n  var allowColumnHiding = getShowColumnSelectorValue(showColumnSelector, 'allowHide');\n  var allowColumnReorder = getShowColumnSelectorValue(showColumnSelector, 'allowReorder');\n\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = useMemo(function () {\n    return new Set(visibleColumns);\n  }, [visibleColumns]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var setColumns = useCallback(function (nextColumns) {\n    setSortedColumns(nextColumns);\n    var nextVisibleColumns = nextColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }, [setSortedColumns, setVisibleColumns, visibleColumnIds]);\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setColumns(nextSortedColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return (displayValues[id] || id).toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = allowColumnReorder && columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.button\",\n    default: \"Columns\"\n  });\n\n  if (numberOfHiddenFields === 1) {\n    buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActiveSingular\",\n      default: \"{numberOfHiddenFields} column hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  } else if (numberOfHiddenFields > 1) {\n    buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActivePlural\",\n      default: \"{numberOfHiddenFields} columns hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  }\n\n  var columnSelector = /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      iconType: allowColumnHiding ? 'listAdd' : 'list',\n      color: \"text\",\n      className: controlBtnClasses,\n      \"data-test-subj\": \"dataGridColumnSelectorButton\",\n      onClick: function onClick() {\n        return setIsOpen(!isOpen);\n      }\n    }, buttonText)\n  }, /*#__PURE__*/React.createElement(\"div\", null, allowColumnHiding && /*#__PURE__*/React.createElement(EuiPopoverTitle, null, /*#__PURE__*/React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        search = _ref4[0],\n        searchcolumns = _ref4[1];\n\n    return /*#__PURE__*/React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"euiDataGrid__controlScroll\"\n  }, /*#__PURE__*/React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, /*#__PURE__*/React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled\n  }, /*#__PURE__*/React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return /*#__PURE__*/React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, null, allowColumnHiding ? /*#__PURE__*/React.createElement(EuiSwitch, {\n        name: id,\n        label: displayValues[id] || id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(event) {\n          var checked = event.target.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      }) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"euiDataGridColumnSelector__itemLabel\"\n      }, id)), isDragEnabled && /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  })))))), allowColumnHiding && /*#__PURE__*/React.createElement(EuiPopoverFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref5) {\n        var id = _ref5.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  /**\n   * Used for moving columns left/right, available in the headers actions menu\n   */\n\n  var switchColumnPos = useCallback(function (fromColId, toColId) {\n    var moveFromIdx = sortedColumns.indexOf(fromColId);\n    var moveToIdx = sortedColumns.indexOf(toColId);\n\n    if (moveFromIdx === -1 || moveToIdx === -1) {\n      return;\n    }\n\n    var nextSortedColumns = _toConsumableArray(sortedColumns);\n\n    nextSortedColumns.splice(moveFromIdx, 1);\n    nextSortedColumns.splice(moveToIdx, 0, fromColId);\n    setColumns(nextSortedColumns);\n  }, [setColumns, sortedColumns]);\n  return [columnSelector, orderedVisibleColumns, setVisibleColumns, switchColumnPos];\n};","map":{"version":3,"sources":["/Users/inwoo/Projects/coldcallproject/coldcallproject/node_modules/@elastic/eui/es/components/datagrid/column_selector.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","Array","from","isArray","_arrayLikeToArray","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","prototype","toString","call","slice","constructor","name","test","len","length","arr2","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","React","Fragment","useState","useMemo","useCallback","classNames","EuiPopover","EuiPopoverFooter","EuiPopoverTitle","EuiI18n","EuiButtonEmpty","EuiFlexGroup","EuiFlexItem","EuiSwitch","EuiFieldText","EuiDragDropContext","EuiDraggable","EuiDroppable","euiDragDropReorder","EuiIcon","useDependentState","getShowColumnSelectorValue","showColumnSelector","valueName","useDataGridColumnSelector","availableColumns","columnVisibility","displayValues","allowColumnHiding","allowColumnReorder","_useDependentState","map","_ref","id","_useDependentState2","sortedColumns","setSortedColumns","visibleColumns","setVisibleColumns","visibleColumnIds","Set","_useState","_useState2","isOpen","setIsOpen","setColumns","nextColumns","nextVisibleColumns","filter","has","onDragEnd","_ref2","sourceIndex","source","index","destination","destinationIndex","nextSortedColumns","numberOfHiddenFields","_useState3","_useState4","columnSearchText","setColumnSearchText","controlBtnClasses","filteredColumns","toLowerCase","indexOf","isDragEnabled","buttonText","createElement","token","default","values","columnSelector","closePopover","anchorPosition","panelPaddingSize","panelClassName","button","size","iconType","color","className","onClick","tokens","defaults","_ref3","_ref4","search","searchcolumns","compressed","placeholder","onChange","e","currentTarget","droppableId","isDropDisabled","key","draggableId","isDragDisabled","provided","state","concat","isDragging","gutterSize","alignItems","label","checked","event","target","columnId","grow","type","justifyContent","flush","orderedVisibleColumns","find","_ref5","column","switchColumnPos","fromColId","toColId","moveFromIdx","moveToIdx","splice"],"mappings":"AAAA,SAASA,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,SAAOC,kBAAkB,CAACD,GAAD,CAAlB,IAA2BE,gBAAgB,CAACF,GAAD,CAA3C,IAAoDG,2BAA2B,CAACH,GAAD,CAA/E,IAAwFI,kBAAkB,EAAjH;AAAsH;;AAEzJ,SAASA,kBAAT,GAA8B;AAAE,QAAM,IAAIC,SAAJ,CAAc,sIAAd,CAAN;AAA8J;;AAE9L,SAASH,gBAAT,CAA0BI,IAA1B,EAAgC;AAAE,MAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,QAAP,IAAmBC,MAAM,CAACH,IAAD,CAA9D,EAAsE,OAAOI,KAAK,CAACC,IAAN,CAAWL,IAAX,CAAP;AAA0B;;AAElI,SAASL,kBAAT,CAA4BD,GAA5B,EAAiC;AAAE,MAAIU,KAAK,CAACE,OAAN,CAAcZ,GAAd,CAAJ,EAAwB,OAAOa,iBAAiB,CAACb,GAAD,CAAxB;AAAgC;;AAE3F,SAASc,cAAT,CAAwBd,GAAxB,EAA6Be,CAA7B,EAAgC;AAAE,SAAOC,eAAe,CAAChB,GAAD,CAAf,IAAwBiB,qBAAqB,CAACjB,GAAD,EAAMe,CAAN,CAA7C,IAAyDZ,2BAA2B,CAACH,GAAD,EAAMe,CAAN,CAApF,IAAgGG,gBAAgB,EAAvH;AAA4H;;AAE9J,SAASA,gBAAT,GAA4B;AAAE,QAAM,IAAIb,SAAJ,CAAc,2IAAd,CAAN;AAAmK;;AAEjM,SAASF,2BAAT,CAAqCgB,CAArC,EAAwCC,MAAxC,EAAgD;AAAE,MAAI,CAACD,CAAL,EAAQ;AAAQ,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAON,iBAAiB,CAACM,CAAD,EAAIC,MAAJ,CAAxB;AAAqC,MAAIC,CAAC,GAAGZ,MAAM,CAACa,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+BL,CAA/B,EAAkCM,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;AAAwD,MAAIJ,CAAC,KAAK,QAAN,IAAkBF,CAAC,CAACO,WAAxB,EAAqCL,CAAC,GAAGF,CAAC,CAACO,WAAF,CAAcC,IAAlB;AAAwB,MAAIN,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOX,KAAK,CAACC,IAAN,CAAWQ,CAAX,CAAP;AAAsB,MAAIE,CAAC,KAAK,WAAN,IAAqB,2CAA2CO,IAA3C,CAAgDP,CAAhD,CAAzB,EAA6E,OAAOR,iBAAiB,CAACM,CAAD,EAAIC,MAAJ,CAAxB;AAAsC;;AAEha,SAASP,iBAAT,CAA2Bb,GAA3B,EAAgC6B,GAAhC,EAAqC;AAAE,MAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAG7B,GAAG,CAAC8B,MAA7B,EAAqCD,GAAG,GAAG7B,GAAG,CAAC8B,MAAV;;AAAkB,OAAK,IAAIf,CAAC,GAAG,CAAR,EAAWgB,IAAI,GAAG,IAAIrB,KAAJ,CAAUmB,GAAV,CAAvB,EAAuCd,CAAC,GAAGc,GAA3C,EAAgDd,CAAC,EAAjD,EAAqD;AAAEgB,IAAAA,IAAI,CAAChB,CAAD,CAAJ,GAAUf,GAAG,CAACe,CAAD,CAAb;AAAmB;;AAAC,SAAOgB,IAAP;AAAc;;AAEvL,SAASd,qBAAT,CAA+BjB,GAA/B,EAAoCe,CAApC,EAAuC;AAAE,MAAI,OAAOR,MAAP,KAAkB,WAAlB,IAAiC,EAAEA,MAAM,CAACC,QAAP,IAAmBC,MAAM,CAACT,GAAD,CAA3B,CAArC,EAAwE;AAAQ,MAAIgC,IAAI,GAAG,EAAX;AAAe,MAAIC,EAAE,GAAG,IAAT;AAAe,MAAIC,EAAE,GAAG,KAAT;AAAgB,MAAIC,EAAE,GAAGC,SAAT;;AAAoB,MAAI;AAAE,SAAK,IAAIC,EAAE,GAAGrC,GAAG,CAACO,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiC8B,EAAtC,EAA0C,EAAEL,EAAE,GAAG,CAACK,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,EAAE,GAAG,IAA9E,EAAoF;AAAED,MAAAA,IAAI,CAACS,IAAL,CAAUH,EAAE,CAACI,KAAb;;AAAqB,UAAI3B,CAAC,IAAIiB,IAAI,CAACF,MAAL,KAAgBf,CAAzB,EAA4B;AAAQ;AAAE,GAAvJ,CAAwJ,OAAO4B,GAAP,EAAY;AAAET,IAAAA,EAAE,GAAG,IAAL;AAAWC,IAAAA,EAAE,GAAGQ,GAAL;AAAW,GAA5L,SAAqM;AAAE,QAAI;AAAE,UAAI,CAACV,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;AAAiB,KAAxD,SAAiE;AAAE,UAAIH,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE;;AAAC,SAAOH,IAAP;AAAc;;AAEze,SAAShB,eAAT,CAAyBhB,GAAzB,EAA8B;AAAE,MAAIU,KAAK,CAACE,OAAN,CAAcZ,GAAd,CAAJ,EAAwB,OAAOA,GAAP;AAAa;AAErE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAO4C,KAAP,IAAgBC,QAAhB,EAA0BC,QAA1B,EAAoCC,OAApC,EAA6CC,WAA7C,QAAgE,OAAhE;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,UAAT,EAAqBC,gBAArB,EAAuCC,eAAvC,QAA8D,YAA9D;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,cAAT,QAA+B,WAA/B;AACA,SAASC,YAAT,EAAuBC,WAAvB,QAA0C,SAA1C;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,SAAxC;AACA,SAASC,kBAAT,EAA6BC,YAA7B,EAA2CC,YAA3C,EAAyDC,kBAAzD,QAAmF,kBAAnF;AACA,SAASC,OAAT,QAAwB,SAAxB;AACA,SAASC,iBAAT,QAAkC,gBAAlC;;AAEA,IAAIC,0BAA0B,GAAG,SAASA,0BAAT,CAAoCC,kBAApC,EAAwDC,SAAxD,EAAmE;AAClG,MAAID,kBAAkB,KAAK,KAA3B,EAAkC,OAAO,KAAP;AAClC,MAAIA,kBAAkB,IAAI,IAA1B,EAAgC,OAAO,IAAP;AAChC,MAAIA,kBAAkB,KAAK,IAA3B,EAAiC,OAAO,IAAP;AACjC,SAAOA,kBAAkB,CAACC,SAAD,CAAlB,KAAkC,KAAzC;AACD,CALD;;AAOA,OAAO,IAAIC,yBAAyB,GAAG,SAASA,yBAAT,CAAmCC,gBAAnC,EAAqDC,gBAArD,EAAuEJ,kBAAvE,EAA2FK,aAA3F,EAA0G;AAC/I,MAAIC,iBAAiB,GAAGP,0BAA0B,CAACC,kBAAD,EAAqB,WAArB,CAAlD;AACA,MAAIO,kBAAkB,GAAGR,0BAA0B,CAACC,kBAAD,EAAqB,cAArB,CAAnD;;AAEA,MAAIQ,kBAAkB,GAAGV,iBAAiB,CAAC,YAAY;AACrD,WAAOK,gBAAgB,CAACM,GAAjB,CAAqB,UAAUC,IAAV,EAAgB;AAC1C,UAAIC,EAAE,GAAGD,IAAI,CAACC,EAAd;AACA,aAAOA,EAAP;AACD,KAHM,CAAP;AAID,GALyC,EAKvC,CAACR,gBAAD,CALuC,CAA1C;AAAA,MAMIS,mBAAmB,GAAGhE,cAAc,CAAC4D,kBAAD,EAAqB,CAArB,CANxC;AAAA,MAOIK,aAAa,GAAGD,mBAAmB,CAAC,CAAD,CAPvC;AAAA,MAQIE,gBAAgB,GAAGF,mBAAmB,CAAC,CAAD,CAR1C;;AAUA,MAAIG,cAAc,GAAGX,gBAAgB,CAACW,cAAtC;AAAA,MACIC,iBAAiB,GAAGZ,gBAAgB,CAACY,iBADzC;AAEA,MAAIC,gBAAgB,GAAGpC,OAAO,CAAC,YAAY;AACzC,WAAO,IAAIqC,GAAJ,CAAQH,cAAR,CAAP;AACD,GAF6B,EAE3B,CAACA,cAAD,CAF2B,CAA9B;;AAIA,MAAII,SAAS,GAAGvC,QAAQ,CAAC,KAAD,CAAxB;AAAA,MACIwC,UAAU,GAAGxE,cAAc,CAACuE,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,MAAM,GAAGD,UAAU,CAAC,CAAD,CAFvB;AAAA,MAGIE,SAAS,GAAGF,UAAU,CAAC,CAAD,CAH1B;;AAKA,MAAIG,UAAU,GAAGzC,WAAW,CAAC,UAAU0C,WAAV,EAAuB;AAClDV,IAAAA,gBAAgB,CAACU,WAAD,CAAhB;AACA,QAAIC,kBAAkB,GAAGD,WAAW,CAACE,MAAZ,CAAmB,UAAUf,EAAV,EAAc;AACxD,aAAOM,gBAAgB,CAACU,GAAjB,CAAqBhB,EAArB,CAAP;AACD,KAFwB,CAAzB;AAGAK,IAAAA,iBAAiB,CAACS,kBAAD,CAAjB;AACD,GAN2B,EAMzB,CAACX,gBAAD,EAAmBE,iBAAnB,EAAsCC,gBAAtC,CANyB,CAA5B;;AAQA,WAASW,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,QAAIC,WAAW,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAA/B;AAAA,QACIC,WAAW,GAAGJ,KAAK,CAACI,WADxB;AAEA,QAAIC,gBAAgB,GAAGD,WAAW,CAACD,KAAnC;AACA,QAAIG,iBAAiB,GAAGvC,kBAAkB,CAACiB,aAAD,EAAgBiB,WAAhB,EAA6BI,gBAA7B,CAA1C;AACAX,IAAAA,UAAU,CAACY,iBAAD,CAAV;AACD;;AAED,MAAIC,oBAAoB,GAAGjC,gBAAgB,CAACvC,MAAjB,GAA0BmD,cAAc,CAACnD,MAApE;;AAEA,MAAIyE,UAAU,GAAGzD,QAAQ,CAAC,EAAD,CAAzB;AAAA,MACI0D,UAAU,GAAG1F,cAAc,CAACyF,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,gBAAgB,GAAGD,UAAU,CAAC,CAAD,CAFjC;AAAA,MAGIE,mBAAmB,GAAGF,UAAU,CAAC,CAAD,CAHpC;;AAKA,MAAIG,iBAAiB,GAAG1D,UAAU,CAAC,yBAAD,EAA4B;AAC5D,uCAAmCqD,oBAAoB,GAAG;AADE,GAA5B,CAAlC;AAGA,MAAIM,eAAe,GAAG7B,aAAa,CAACa,MAAd,CAAqB,UAAUf,EAAV,EAAc;AACvD,WAAO,CAACN,aAAa,CAACM,EAAD,CAAb,IAAqBA,EAAtB,EAA0BgC,WAA1B,GAAwCC,OAAxC,CAAgDL,gBAAgB,CAACI,WAAjB,EAAhD,MAAoF,CAAC,CAA5F;AACD,GAFqB,CAAtB;AAGA,MAAIE,aAAa,GAAGtC,kBAAkB,IAAIgC,gBAAgB,CAAC3E,MAAjB,KAA4B,CAAtE,CAtD+I,CAsDtE;;AAEzE,MAAIkF,UAAU,GAAG,aAAapE,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AACzD6D,IAAAA,KAAK,EAAE,0BADkD;AAEzDC,IAAAA,OAAO,EAAE;AAFgD,GAA7B,CAA9B;;AAKA,MAAIb,oBAAoB,KAAK,CAA7B,EAAgC;AAC9BU,IAAAA,UAAU,GAAG,aAAapE,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AACrD6D,MAAAA,KAAK,EAAE,wCAD8C;AAErDC,MAAAA,OAAO,EAAE,sCAF4C;AAGrDC,MAAAA,MAAM,EAAE;AACNd,QAAAA,oBAAoB,EAAEA;AADhB;AAH6C,KAA7B,CAA1B;AAOD,GARD,MAQO,IAAIA,oBAAoB,GAAG,CAA3B,EAA8B;AACnCU,IAAAA,UAAU,GAAG,aAAapE,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AACrD6D,MAAAA,KAAK,EAAE,sCAD8C;AAErDC,MAAAA,OAAO,EAAE,uCAF4C;AAGrDC,MAAAA,MAAM,EAAE;AACNd,QAAAA,oBAAoB,EAAEA;AADhB;AAH6C,KAA7B,CAA1B;AAOD;;AAED,MAAIe,cAAc,GAAG,aAAazE,KAAK,CAACqE,aAAN,CAAoB/D,UAApB,EAAgC;AAChE,sBAAkB,+BAD8C;AAEhEqC,IAAAA,MAAM,EAAEA,MAFwD;AAGhE+B,IAAAA,YAAY,EAAE,SAASA,YAAT,GAAwB;AACpC,aAAO9B,SAAS,CAAC,KAAD,CAAhB;AACD,KAL+D;AAMhE+B,IAAAA,cAAc,EAAE,UANgD;AAOhEC,IAAAA,gBAAgB,EAAE,GAP8C;AAQhEC,IAAAA,cAAc,EAAE,kCARgD;AAShEC,IAAAA,MAAM,EAAE,aAAa9E,KAAK,CAACqE,aAAN,CAAoB3D,cAApB,EAAoC;AACvDqE,MAAAA,IAAI,EAAE,IADiD;AAEvDC,MAAAA,QAAQ,EAAEpD,iBAAiB,GAAG,SAAH,GAAe,MAFa;AAGvDqD,MAAAA,KAAK,EAAE,MAHgD;AAIvDC,MAAAA,SAAS,EAAEnB,iBAJ4C;AAKvD,wBAAkB,8BALqC;AAMvDoB,MAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,eAAOvC,SAAS,CAAC,CAACD,MAAF,CAAhB;AACD;AARsD,KAApC,EASlByB,UATkB;AAT2C,GAAhC,EAmB/B,aAAapE,KAAK,CAACqE,aAAN,CAAoB,KAApB,EAA2B,IAA3B,EAAiCzC,iBAAiB,IAAI,aAAa5B,KAAK,CAACqE,aAAN,CAAoB7D,eAApB,EAAqC,IAArC,EAA2C,aAAaR,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AACtK2E,IAAAA,MAAM,EAAE,CAAC,0BAAD,EAA6B,iCAA7B,CAD8J;AAEtKC,IAAAA,QAAQ,EAAE,CAAC,QAAD,EAAW,gBAAX;AAF4J,GAA7B,EAGxI,UAAUC,KAAV,EAAiB;AAClB,QAAIC,KAAK,GAAGrH,cAAc,CAACoH,KAAD,EAAQ,CAAR,CAA1B;AAAA,QACIE,MAAM,GAAGD,KAAK,CAAC,CAAD,CADlB;AAAA,QAEIE,aAAa,GAAGF,KAAK,CAAC,CAAD,CAFzB;;AAIA,WAAO,aAAavF,KAAK,CAACqE,aAAN,CAAoBvD,YAApB,EAAkC;AACpD4E,MAAAA,UAAU,EAAE,IADwC;AAEpDC,MAAAA,WAAW,EAAEH,MAFuC;AAGpD,oBAAcC,aAHsC;AAIpD3F,MAAAA,KAAK,EAAE+D,gBAJ6C;AAKpD+B,MAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBC,CAAlB,EAAqB;AAC7B,eAAO/B,mBAAmB,CAAC+B,CAAC,CAACC,aAAF,CAAgBhG,KAAjB,CAA1B;AACD;AAPmD,KAAlC,CAApB;AASD,GAjB0I,CAAxD,CAAnE,EAiBX,aAAaE,KAAK,CAACqE,aAAN,CAAoB,KAApB,EAA2B;AAC3Ca,IAAAA,SAAS,EAAE;AADgC,GAA3B,EAEf,aAAalF,KAAK,CAACqE,aAAN,CAAoBtD,kBAApB,EAAwC;AACtDmC,IAAAA,SAAS,EAAEA;AAD2C,GAAxC,EAEb,aAAalD,KAAK,CAACqE,aAAN,CAAoBpD,YAApB,EAAkC;AAChD8E,IAAAA,WAAW,EAAE,aADmC;AAEhDC,IAAAA,cAAc,EAAE,CAAC7B;AAF+B,GAAlC,EAGb,aAAanE,KAAK,CAACqE,aAAN,CAAoBpE,QAApB,EAA8B,IAA9B,EAAoC+D,eAAe,CAACjC,GAAhB,CAAoB,UAAUE,EAAV,EAAcqB,KAAd,EAAqB;AAC3F,WAAO,aAAatD,KAAK,CAACqE,aAAN,CAAoBrD,YAApB,EAAkC;AACpDiF,MAAAA,GAAG,EAAEhE,EAD+C;AAEpDiE,MAAAA,WAAW,EAAEjE,EAFuC;AAGpDqB,MAAAA,KAAK,EAAEA,KAH6C;AAIpD6C,MAAAA,cAAc,EAAE,CAAChC;AAJmC,KAAlC,EAKjB,UAAUiC,QAAV,EAAoBC,KAApB,EAA2B;AAC5B,aAAO,aAAarG,KAAK,CAACqE,aAAN,CAAoB,KAApB,EAA2B;AAC7Ca,QAAAA,SAAS,EAAE,mCAAmCoB,MAAnC,CAA0CD,KAAK,CAACE,UAAN,IAAoB,4CAA9D;AADkC,OAA3B,EAEjB,aAAavG,KAAK,CAACqE,aAAN,CAAoB1D,YAApB,EAAkC;AAChD6F,QAAAA,UAAU,EAAE,GADoC;AAEhDC,QAAAA,UAAU,EAAE;AAFoC,OAAlC,EAGb,aAAazG,KAAK,CAACqE,aAAN,CAAoBzD,WAApB,EAAiC,IAAjC,EAAuCgB,iBAAiB,GAAG,aAAa5B,KAAK,CAACqE,aAAN,CAAoBxD,SAApB,EAA+B;AACrH9B,QAAAA,IAAI,EAAEkD,EAD+G;AAErHyE,QAAAA,KAAK,EAAE/E,aAAa,CAACM,EAAD,CAAb,IAAqBA,EAFyF;AAGrH0E,QAAAA,OAAO,EAAEpE,gBAAgB,CAACU,GAAjB,CAAqBhB,EAArB,CAH4G;AAIrHyD,QAAAA,UAAU,EAAE,IAJyG;AAKrHR,QAAAA,SAAS,EAAE,iBAL0G;AAMrHU,QAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkBgB,KAAlB,EAAyB;AACjC,cAAID,OAAO,GAAGC,KAAK,CAACC,MAAN,CAAaF,OAA3B;AACA,cAAI5D,kBAAkB,GAAGZ,aAAa,CAACa,MAAd,CAAqB,UAAU8D,QAAV,EAAoB;AAChE,mBAAOH,OAAO,GAAGpE,gBAAgB,CAACU,GAAjB,CAAqB6D,QAArB,KAAkC7E,EAAE,KAAK6E,QAA5C,GAAuDvE,gBAAgB,CAACU,GAAjB,CAAqB6D,QAArB,KAAkC7E,EAAE,KAAK6E,QAA9G;AACD,WAFwB,CAAzB;AAGAxE,UAAAA,iBAAiB,CAACS,kBAAD,CAAjB;AACD;AAZoH,OAA/B,CAAhB,GAanE,aAAa/C,KAAK,CAACqE,aAAN,CAAoB,MAApB,EAA4B;AAC5Ca,QAAAA,SAAS,EAAE;AADiC,OAA5B,EAEfjD,EAFe,CAbF,CAHA,EAkBPkC,aAAa,IAAI,aAAanE,KAAK,CAACqE,aAAN,CAAoBzD,WAApB,EAAiC;AACtEmG,QAAAA,IAAI,EAAE;AADgE,OAAjC,EAEpC,aAAa/G,KAAK,CAACqE,aAAN,CAAoBlD,OAApB,EAA6B;AAC3C6F,QAAAA,IAAI,EAAE,MADqC;AAE3C/B,QAAAA,KAAK,EAAE;AAFoC,OAA7B,CAFuB,CAlBvB,CAFI,CAApB;AA0BD,KAhCmB,CAApB;AAiCD,GAlCmD,CAApC,CAHA,CAFA,CAFE,CAjBF,CAnBkB,EA6EzBrD,iBAAiB,IAAI,aAAa5B,KAAK,CAACqE,aAAN,CAAoB9D,gBAApB,EAAsC,IAAtC,EAA4C,aAAaP,KAAK,CAACqE,aAAN,CAAoB1D,YAApB,EAAkC;AACpI6F,IAAAA,UAAU,EAAE,GADwH;AAEpIS,IAAAA,cAAc,EAAE;AAFoH,GAAlC,EAGjG,aAAajH,KAAK,CAACqE,aAAN,CAAoBzD,WAApB,EAAiC;AAC/CmG,IAAAA,IAAI,EAAE;AADyC,GAAjC,EAEb,aAAa/G,KAAK,CAACqE,aAAN,CAAoB3D,cAApB,EAAoC;AAClDqE,IAAAA,IAAI,EAAE,IAD4C;AAElDmC,IAAAA,KAAK,EAAE,MAF2C;AAGlD/B,IAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,aAAO7C,iBAAiB,CAACH,aAAD,CAAxB;AACD;AALiD,GAApC,EAMb,aAAanC,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AAC3C6D,IAAAA,KAAK,EAAE,6BADoC;AAE3CC,IAAAA,OAAO,EAAE;AAFkC,GAA7B,CANA,CAFA,CAHoF,EAc9F,aAAavE,KAAK,CAACqE,aAAN,CAAoBzD,WAApB,EAAiC;AAClDmG,IAAAA,IAAI,EAAE;AAD4C,GAAjC,EAEhB,aAAa/G,KAAK,CAACqE,aAAN,CAAoB3D,cAApB,EAAoC;AAClDqE,IAAAA,IAAI,EAAE,IAD4C;AAElDmC,IAAAA,KAAK,EAAE,OAF2C;AAGlD/B,IAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,aAAO7C,iBAAiB,CAAC,EAAD,CAAxB;AACD;AALiD,GAApC,EAMb,aAAatC,KAAK,CAACqE,aAAN,CAAoB5D,OAApB,EAA6B;AAC3C6D,IAAAA,KAAK,EAAE,2BADoC;AAE3CC,IAAAA,OAAO,EAAE;AAFkC,GAA7B,CANA,CAFG,CAdiF,CAAzD,CA7ET,CAAlC;AAuGA,MAAI4C,qBAAqB,GAAGhH,OAAO,CAAC,YAAY;AAC9C,WAAOkC,cAAc,CAACN,GAAf,CAAmB,UAAU+E,QAAV,EAAoB;AAC5C,aAAOrF,gBAAgB,CAAC2F,IAAjB,CAAsB,UAAUC,KAAV,EAAiB;AAC5C,YAAIpF,EAAE,GAAGoF,KAAK,CAACpF,EAAf;AACA,eAAOA,EAAE,KAAK6E,QAAd;AACD,OAHM,CAAP;AAID,KALM,CAKL;AALK,MAML9D,MANK,CAME,UAAUsE,MAAV,EAAkB;AACzB,aAAOA,MAAM,IAAI,IAAjB;AACD,KARM,CAAP;AASD,GAVkC,EAUhC,CAAC7F,gBAAD,EAAmBY,cAAnB,CAVgC,CAAnC;AAWA;AACF;AACA;;AAEE,MAAIkF,eAAe,GAAGnH,WAAW,CAAC,UAAUoH,SAAV,EAAqBC,OAArB,EAA8B;AAC9D,QAAIC,WAAW,GAAGvF,aAAa,CAAC+B,OAAd,CAAsBsD,SAAtB,CAAlB;AACA,QAAIG,SAAS,GAAGxF,aAAa,CAAC+B,OAAd,CAAsBuD,OAAtB,CAAhB;;AAEA,QAAIC,WAAW,KAAK,CAAC,CAAjB,IAAsBC,SAAS,KAAK,CAAC,CAAzC,EAA4C;AAC1C;AACD;;AAED,QAAIlE,iBAAiB,GAAGtG,kBAAkB,CAACgF,aAAD,CAA1C;;AAEAsB,IAAAA,iBAAiB,CAACmE,MAAlB,CAAyBF,WAAzB,EAAsC,CAAtC;AACAjE,IAAAA,iBAAiB,CAACmE,MAAlB,CAAyBD,SAAzB,EAAoC,CAApC,EAAuCH,SAAvC;AACA3E,IAAAA,UAAU,CAACY,iBAAD,CAAV;AACD,GAbgC,EAa9B,CAACZ,UAAD,EAAaV,aAAb,CAb8B,CAAjC;AAcA,SAAO,CAACsC,cAAD,EAAiB0C,qBAAjB,EAAwC7E,iBAAxC,EAA2DiF,eAA3D,CAAP;AACD,CApNM","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Fragment, useState, useMemo, useCallback } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter, EuiPopoverTitle } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiSwitch, EuiFieldText } from '../form';\nimport { EuiDragDropContext, EuiDraggable, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiIcon } from '../icon';\nimport { useDependentState } from '../../services';\n\nvar getShowColumnSelectorValue = function getShowColumnSelectorValue(showColumnSelector, valueName) {\n  if (showColumnSelector === false) return false;\n  if (showColumnSelector == null) return true;\n  if (showColumnSelector === true) return true;\n  return showColumnSelector[valueName] !== false;\n};\n\nexport var useDataGridColumnSelector = function useDataGridColumnSelector(availableColumns, columnVisibility, showColumnSelector, displayValues) {\n  var allowColumnHiding = getShowColumnSelectorValue(showColumnSelector, 'allowHide');\n  var allowColumnReorder = getShowColumnSelectorValue(showColumnSelector, 'allowReorder');\n\n  var _useDependentState = useDependentState(function () {\n    return availableColumns.map(function (_ref) {\n      var id = _ref.id;\n      return id;\n    });\n  }, [availableColumns]),\n      _useDependentState2 = _slicedToArray(_useDependentState, 2),\n      sortedColumns = _useDependentState2[0],\n      setSortedColumns = _useDependentState2[1];\n\n  var visibleColumns = columnVisibility.visibleColumns,\n      setVisibleColumns = columnVisibility.setVisibleColumns;\n  var visibleColumnIds = useMemo(function () {\n    return new Set(visibleColumns);\n  }, [visibleColumns]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var setColumns = useCallback(function (nextColumns) {\n    setSortedColumns(nextColumns);\n    var nextVisibleColumns = nextColumns.filter(function (id) {\n      return visibleColumnIds.has(id);\n    });\n    setVisibleColumns(nextVisibleColumns);\n  }, [setSortedColumns, setVisibleColumns, visibleColumnIds]);\n\n  function onDragEnd(_ref2) {\n    var sourceIndex = _ref2.source.index,\n        destination = _ref2.destination;\n    var destinationIndex = destination.index;\n    var nextSortedColumns = euiDragDropReorder(sortedColumns, sourceIndex, destinationIndex);\n    setColumns(nextSortedColumns);\n  }\n\n  var numberOfHiddenFields = availableColumns.length - visibleColumns.length;\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      columnSearchText = _useState4[0],\n      setColumnSearchText = _useState4[1];\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': numberOfHiddenFields > 0\n  });\n  var filteredColumns = sortedColumns.filter(function (id) {\n    return (displayValues[id] || id).toLowerCase().indexOf(columnSearchText.toLowerCase()) !== -1;\n  });\n  var isDragEnabled = allowColumnReorder && columnSearchText.length === 0; // only allow drag-and-drop when not filtering columns\n\n  var buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.button\",\n    default: \"Columns\"\n  });\n\n  if (numberOfHiddenFields === 1) {\n    buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActiveSingular\",\n      default: \"{numberOfHiddenFields} column hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  } else if (numberOfHiddenFields > 1) {\n    buttonText = /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSelector.buttonActivePlural\",\n      default: \"{numberOfHiddenFields} columns hidden\",\n      values: {\n        numberOfHiddenFields: numberOfHiddenFields\n      }\n    });\n  }\n\n  var columnSelector = /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSelectorPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSelectorPopover\",\n    button: /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      iconType: allowColumnHiding ? 'listAdd' : 'list',\n      color: \"text\",\n      className: controlBtnClasses,\n      \"data-test-subj\": \"dataGridColumnSelectorButton\",\n      onClick: function onClick() {\n        return setIsOpen(!isOpen);\n      }\n    }, buttonText)\n  }, /*#__PURE__*/React.createElement(\"div\", null, allowColumnHiding && /*#__PURE__*/React.createElement(EuiPopoverTitle, null, /*#__PURE__*/React.createElement(EuiI18n, {\n    tokens: ['euiColumnSelector.search', 'euiColumnSelector.searchcolumns'],\n    defaults: ['Search', 'Search columns']\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 2),\n        search = _ref4[0],\n        searchcolumns = _ref4[1];\n\n    return /*#__PURE__*/React.createElement(EuiFieldText, {\n      compressed: true,\n      placeholder: search,\n      \"aria-label\": searchcolumns,\n      value: columnSearchText,\n      onChange: function onChange(e) {\n        return setColumnSearchText(e.currentTarget.value);\n      }\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"euiDataGrid__controlScroll\"\n  }, /*#__PURE__*/React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, /*#__PURE__*/React.createElement(EuiDroppable, {\n    droppableId: \"columnOrder\",\n    isDropDisabled: !isDragEnabled\n  }, /*#__PURE__*/React.createElement(Fragment, null, filteredColumns.map(function (id, index) {\n    return /*#__PURE__*/React.createElement(EuiDraggable, {\n      key: id,\n      draggableId: id,\n      index: index,\n      isDragDisabled: !isDragEnabled\n    }, function (provided, state) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"euiDataGridColumnSelector__item \".concat(state.isDragging && 'euiDataGridColumnSelector__item-isDragging')\n      }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        gutterSize: \"m\",\n        alignItems: \"center\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, null, allowColumnHiding ? /*#__PURE__*/React.createElement(EuiSwitch, {\n        name: id,\n        label: displayValues[id] || id,\n        checked: visibleColumnIds.has(id),\n        compressed: true,\n        className: \"euiSwitch--mini\",\n        onChange: function onChange(event) {\n          var checked = event.target.checked;\n          var nextVisibleColumns = sortedColumns.filter(function (columnId) {\n            return checked ? visibleColumnIds.has(columnId) || id === columnId : visibleColumnIds.has(columnId) && id !== columnId;\n          });\n          setVisibleColumns(nextVisibleColumns);\n        }\n      }) : /*#__PURE__*/React.createElement(\"span\", {\n        className: \"euiDataGridColumnSelector__itemLabel\"\n      }, id)), isDragEnabled && /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiIcon, {\n        type: \"grab\",\n        color: \"subdued\"\n      }))));\n    });\n  })))))), allowColumnHiding && /*#__PURE__*/React.createElement(EuiPopoverFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    gutterSize: \"s\",\n    justifyContent: \"spaceBetween\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"left\",\n    onClick: function onClick() {\n      return setVisibleColumns(sortedColumns);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.selectAll\",\n    default: \"Show all\"\n  }))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return setVisibleColumns([]);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSelector.hideAll\",\n    default: \"Hide all\"\n  }))))));\n  var orderedVisibleColumns = useMemo(function () {\n    return visibleColumns.map(function (columnId) {\n      return availableColumns.find(function (_ref5) {\n        var id = _ref5.id;\n        return id === columnId;\n      });\n    } // cast to avoid `undefined`, it filters those out next\n    ).filter(function (column) {\n      return column != null;\n    });\n  }, [availableColumns, visibleColumns]);\n  /**\n   * Used for moving columns left/right, available in the headers actions menu\n   */\n\n  var switchColumnPos = useCallback(function (fromColId, toColId) {\n    var moveFromIdx = sortedColumns.indexOf(fromColId);\n    var moveToIdx = sortedColumns.indexOf(toColId);\n\n    if (moveFromIdx === -1 || moveToIdx === -1) {\n      return;\n    }\n\n    var nextSortedColumns = _toConsumableArray(sortedColumns);\n\n    nextSortedColumns.splice(moveFromIdx, 1);\n    nextSortedColumns.splice(moveToIdx, 0, fromColId);\n    setColumns(nextSortedColumns);\n  }, [setColumns, sortedColumns]);\n  return [columnSelector, orderedVisibleColumns, setVisibleColumns, switchColumnPos];\n};"]},"metadata":{},"sourceType":"module"}