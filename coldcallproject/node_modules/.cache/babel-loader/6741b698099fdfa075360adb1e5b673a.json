{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport { keys, DEFAULT_VISUALIZATION_COLOR, getSteppedGradient } from '../../../services';\nimport { EuiColorStopThumb } from './color_stop_thumb';\nimport { addStop, addDefinedStop, getPositionFromStop, getStopFromMouseLocation, isInvalid, removeStop } from './utils';\nimport { getChromaColor } from '../utils';\nimport { EuiI18n } from '../../i18n';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiRangeHighlight } from '../../form/range/range_highlight';\nimport { EuiRangeTrack } from '../../form/range/range_track';\nimport { EuiRangeWrapper } from '../../form/range/range_wrapper'; // Because of how the thumbs are rendered in the popover, using ref results in an infinite loop.\n// We'll instead use old fashioned namespaced DOM selectors to get references\n\nvar STOP_ATTR = 'euiColorStop_';\nvar DEFAULT_MIN = 0;\nvar DEFAULT_MAX = 100;\n\nfunction isTargetAThumb(target) {\n  var element = target;\n  var attr = element.getAttribute('data-index');\n  return attr && attr.indexOf(STOP_ATTR) > -1;\n}\n\nfunction sortStops(colorStops) {\n  return colorStops.map(function (el, index) {\n    return _objectSpread(_objectSpread({}, el), {}, {\n      id: index\n    });\n  }).sort(function (a, b) {\n    return a.stop - b.stop;\n  });\n}\n\nfunction getValidStops(colorStops) {\n  return colorStops.map(function (el) {\n    return el.stop;\n  }).filter(function (stop) {\n    return !isNaN(stop);\n  });\n}\n\nfunction getRangeMin(colorStops, min) {\n  var rangeMin = min || DEFAULT_MIN;\n  var stops = getValidStops(colorStops);\n  var first = Math.min.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (first < rangeMin) {\n    if (stops.length === 1) {\n      return first - DEFAULT_MIN;\n    } else if (stops.length >= 2) {\n      return first;\n    }\n  }\n\n  return DEFAULT_MIN;\n}\n\nfunction getRangeMax(colorStops, max) {\n  var rangeMax = max || DEFAULT_MAX;\n  var stops = getValidStops(colorStops);\n  var last = Math.max.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (last > rangeMax) {\n    if (stops.length === 1) {\n      return last + DEFAULT_MAX;\n    } else if (stops.length >= 2) {\n      return last;\n    }\n  }\n\n  return DEFAULT_MAX;\n}\n\nexport var EuiColorStops = function EuiColorStops(_ref) {\n  var _ref$addColor = _ref.addColor,\n      addColor = _ref$addColor === void 0 ? DEFAULT_VISUALIZATION_COLOR : _ref$addColor,\n      max = _ref.max,\n      min = _ref.min,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      colorStops = _ref.colorStops,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      compressed = _ref.compressed,\n      fullWidth = _ref.fullWidth,\n      className = _ref.className,\n      label = _ref.label,\n      _ref$stopType = _ref.stopType,\n      stopType = _ref$stopType === void 0 ? 'gradient' : _ref$stopType,\n      _ref$stepNumber = _ref.stepNumber,\n      stepNumber = _ref$stepNumber === void 0 ? 10 : _ref$stepNumber,\n      swatches = _ref.swatches,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha,\n      valueInputProps = _ref.valueInputProps;\n  var sortedStops = useMemo(function () {\n    return sortStops(colorStops);\n  }, [colorStops]);\n  var rangeMax = useMemo(function () {\n    var result = max != null ? max : getRangeMax(colorStops, max);\n    var width = max != null ? 0 : Math.round(result * 0.05);\n    return !isNaN(result) ? result + width : DEFAULT_MAX;\n  }, [colorStops, max]);\n  var rangeMin = useMemo(function () {\n    var result = min != null ? min : getRangeMin(colorStops, min);\n    var width = min != null ? 0 : Math.round(rangeMax * 0.05);\n    return !isNaN(result) ? result - width : DEFAULT_MIN;\n  }, [colorStops, min, rangeMax]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasFocus = _useState2[0],\n      setHasFocus = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focusedStopIndex = _useState4[0],\n      setFocusedStopIndex = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openedStopId = _useState6[0],\n      setOpenedStopId = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperRef = _useState8[0],\n      setWrapperRef = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addTargetPosition = _useState10[0],\n      setAddTargetPosition = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isHoverDisabled = _useState12[0],\n      setIsHoverDisabled = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      focusStopOnUpdate = _useState14[0],\n      setFocusStopOnUpdate = _useState14[1];\n\n  var isNotInteractive = disabled || readOnly;\n  var classes = classNames('euiColorStops', {\n    'euiColorStops-isDragging': isHoverDisabled,\n    'euiColorStops-isDisabled': disabled,\n    'euiColorStops-isReadOnly': readOnly\n  }, className);\n\n  var getStopFromMouseLocationFn = function getStopFromMouseLocationFn(location) {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var getPositionFromStopFn = function getPositionFromStopFn(stop) {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var handleOnChange = useCallback(function (colorStops) {\n    onChange(colorStops, isInvalid(colorStops, showAlpha));\n  }, [onChange, showAlpha]);\n  var onFocusStop = useCallback(function (index) {\n    if (disabled || !wrapperRef) return;\n    var toFocus = wrapperRef.querySelector(\"[data-index=\".concat(STOP_ATTR).concat(index, \"]\"));\n\n    if (toFocus) {\n      setHasFocus(false);\n      setFocusedStopIndex(index);\n      toFocus.focus();\n    }\n  }, [disabled, wrapperRef]);\n  useEffect(function () {\n    if (focusStopOnUpdate !== null) {\n      var toFocusIndex = sortedStops.map(function (el) {\n        return el.stop;\n      }).indexOf(focusStopOnUpdate);\n      var toFocusId = toFocusIndex > -1 ? sortedStops[toFocusIndex].id : null;\n      onFocusStop(toFocusIndex);\n      setOpenedStopId(toFocusId);\n      setFocusStopOnUpdate(null);\n    }\n  }, [sortedStops, onFocusStop, setFocusStopOnUpdate, focusStopOnUpdate]);\n  var onFocusWrapper = useCallback(function () {\n    setFocusedStopIndex(null);\n\n    if (wrapperRef) {\n      wrapperRef.focus();\n    }\n  }, [wrapperRef]);\n\n  var setWrapperHasFocus = function setWrapperHasFocus(e) {\n    if (e.target === wrapperRef) {\n      setHasFocus(true);\n    }\n  };\n\n  var removeWrapperFocus = function removeWrapperFocus() {\n    setHasFocus(false);\n  };\n\n  var onAdd = function onAdd() {\n    var stops = sortedStops.map(function (_ref2) {\n      var color = _ref2.color,\n          stop = _ref2.stop;\n      return {\n        color: color,\n        stop: stop\n      };\n    });\n    var newColorStops = addStop(stops, addColor, max || rangeMax);\n    setFocusStopOnUpdate(newColorStops[colorStops.length].stop);\n    handleOnChange(newColorStops);\n  };\n\n  var onRemove = useCallback(function (index) {\n    var newColorStops = removeStop(colorStops, index);\n    onFocusWrapper();\n    handleOnChange(newColorStops);\n  }, [colorStops, handleOnChange, onFocusWrapper]);\n\n  var disableHover = function disableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(true);\n  };\n\n  var enableHover = function enableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(false);\n  };\n\n  var handleAddHover = function handleAddHover(e) {\n    if (isNotInteractive || !wrapperRef) return;\n    var stop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var position = getPositionFromStopFn(stop);\n    setAddTargetPosition(position);\n  };\n\n  var handleAddClick = function handleAddClick(e) {\n    if (isNotInteractive || isTargetAThumb(e.target) || !wrapperRef) return;\n    var newStop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var newColorStops = addDefinedStop(colorStops, newStop, addColor);\n    setFocusStopOnUpdate(newStop);\n    handleOnChange(newColorStops);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (disabled) return;\n\n    switch (event.key) {\n      case keys.ESCAPE:\n        onFocusWrapper();\n        break;\n\n      case keys.ENTER:\n        if (readOnly || !hasFocus) return;\n        onAdd();\n        break;\n\n      case keys.BACKSPACE:\n        if (readOnly || hasFocus || focusedStopIndex == null) return;\n\n        if (isTargetAThumb(event.target)) {\n          if (min == null && focusedStopIndex === 0 || max == null && focusedStopIndex === sortedStops.length - 1) {\n            return;\n          }\n\n          var index = sortedStops[focusedStopIndex].id;\n          onRemove(index);\n        }\n\n        break;\n\n      case keys.ARROW_DOWN:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var next = focusedStopIndex === sortedStops.length - 1 ? focusedStopIndex : focusedStopIndex + 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n\n      case keys.ARROW_UP:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var _next = focusedStopIndex === 0 ? focusedStopIndex : focusedStopIndex - 1;\n\n            onFocusStop(_next);\n          }\n        }\n\n        break;\n    }\n  };\n\n  var thumbs = useMemo(function () {\n    var handleStopChange = function handleStopChange(stop, id) {\n      var newColorStops = _toConsumableArray(colorStops);\n\n      newColorStops.splice(id, 1, stop);\n      handleOnChange(newColorStops);\n    };\n\n    return sortedStops.map(function (colorStop, index) {\n      return /*#__PURE__*/React.createElement(EuiColorStopThumb, {\n        isRangeMin: min == null && colorStop.stop === rangeMin,\n        isRangeMax: max == null && colorStop.stop === rangeMax,\n        \"data-index\": \"\".concat(STOP_ATTR).concat(index),\n        key: colorStop.id,\n        globalMin: min || rangeMin,\n        globalMax: max || rangeMax,\n        min: min,\n        max: max,\n        localMin: index === 0 ? min || rangeMin : sortedStops[index - 1].stop + 1,\n        localMax: index === sortedStops.length - 1 ? max || rangeMax : sortedStops[index + 1].stop - 1,\n        stop: colorStop.stop,\n        color: colorStop.color,\n        onRemove: sortedStops.length > 1 ? function () {\n          return onRemove(colorStop.id);\n        } : undefined,\n        onChange: function onChange(stop) {\n          return handleStopChange(stop, colorStop.id);\n        },\n        onFocus: function onFocus() {\n          return setFocusedStopIndex(index);\n        },\n        parentRef: wrapperRef,\n        colorPickerMode: mode,\n        colorPickerShowAlpha: showAlpha,\n        colorPickerSwatches: swatches,\n        disabled: disabled,\n        readOnly: readOnly,\n        \"aria-valuetext\": \"Stop: \".concat(colorStop.stop, \", Color: \").concat(colorStop.color, \" (\").concat(index + 1, \" of \").concat(colorStops.length, \")\"),\n        isPopoverOpen: colorStop.id === openedStopId,\n        openPopover: function openPopover() {\n          setOpenedStopId(colorStop.id);\n        },\n        closePopover: function closePopover() {\n          setOpenedStopId(null);\n        },\n        valueInputProps: valueInputProps\n      });\n    });\n  }, [colorStops, disabled, handleOnChange, max, min, mode, onRemove, openedStopId, rangeMax, rangeMin, readOnly, showAlpha, sortedStops, swatches, wrapperRef, valueInputProps]);\n  var positions = wrapperRef ? sortedStops.map(function (_ref3) {\n    var stop = _ref3.stop;\n    return getPositionFromStopFn(stop);\n  }) : [];\n\n  var gradientStop = function gradientStop(colorStop, index) {\n    var color = getChromaColor(colorStop.color, showAlpha);\n    var rgba = color ? color.css() : 'currentColor';\n\n    if (index === 0) {\n      return \"currentColor, currentColor \".concat(positions[index], \"%, \").concat(rgba, \" \").concat(positions[index], \"%\");\n    }\n\n    return \"\".concat(rgba, \" \").concat(positions[index], \"%\");\n  };\n\n  var fixedStop = function fixedStop(colorStop, index) {\n    if (index === sortedStops.length - 1) {\n      return gradientStop(colorStop, index);\n    } else {\n      return \"\".concat(gradientStop(colorStop, index), \", \").concat(gradientStop(colorStop, index + 1));\n    }\n  };\n\n  var gradient = '';\n\n  if (stopType === 'stepped' && positions.length > 0) {\n    var trailingPercentage = positions[0];\n    var endingPercentage = positions[positions.length - 1];\n    var steppedColors = getSteppedGradient(colorStops, stepNumber);\n    var steppedGradient = '';\n    var percentage = (endingPercentage - trailingPercentage) / steppedColors.length;\n    var percentageSteps = (endingPercentage - trailingPercentage) / steppedColors.length + trailingPercentage;\n    steppedColors.forEach(function (color) {\n      steppedGradient = steppedGradient.concat(\"\".concat(color, \" \").concat(percentageSteps - percentage, \"% \").concat(percentageSteps, \"%, \"));\n      percentageSteps = percentageSteps + percentage;\n    });\n    steppedGradient = steppedGradient.substring(0, steppedGradient.length - 2);\n    gradient = \"linear-gradient(to right, currentColor \".concat(trailingPercentage, \"%, \").concat(steppedGradient, \")\");\n  } else {\n    var linearGradient = sortedStops.map(stopType === 'gradient' ? gradientStop : fixedStop);\n    gradient = \"linear-gradient(to right,\".concat(linearGradient, \")\");\n  }\n\n  return /*#__PURE__*/React.createElement(EuiRangeWrapper, {\n    \"data-test-subj\": \"euiColorStops\",\n    ref: setWrapperRef,\n    className: classes,\n    fullWidth: fullWidth,\n    tabIndex: disabled ? -1 : 0,\n    onMouseDown: disableHover,\n    onMouseUp: enableHover,\n    onMouseLeave: enableHover,\n    onKeyDown: handleKeyDown,\n    onFocus: setWrapperHasFocus,\n    onBlur: removeWrapperFocus\n  }, /*#__PURE__*/React.createElement(EuiScreenReaderOnly, null, /*#__PURE__*/React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    values: {\n      label: label,\n      disabled: disabled ? 'Disabled.' : '',\n      readOnly: readOnly ? 'Read-only.' : ''\n    },\n    token: \"euiColorStops.screenReaderAnnouncement\",\n    default: \"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.\"\n  }))), /*#__PURE__*/React.createElement(EuiRangeTrack, {\n    min: min || rangeMin,\n    max: max || rangeMax,\n    compressed: compressed,\n    disabled: disabled,\n    step: 1\n  }, /*#__PURE__*/React.createElement(EuiRangeHighlight, {\n    className: \"euiColorStops__highlight\",\n    min: min || rangeMin,\n    max: max || rangeMax,\n    lowerValue: min || rangeMin,\n    upperValue: max || rangeMax,\n    background: gradient,\n    compressed: compressed\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test-subj\": \"euiColorStopsAdd\",\n    className: classNames('euiColorStops__addContainer', {\n      'euiColorStops__addContainer-isDisabled': isHoverDisabled || disabled || readOnly\n    }),\n    onClick: handleAddClick,\n    onMouseMove: handleAddHover\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"euiColorStops__addTarget\",\n    style: {\n      left: \"\".concat(addTargetPosition, \"%\")\n    }\n  })), thumbs));\n};\nEuiColorStops.propTypes = {\n  addColor: PropTypes.string,\n\n  /**\n     * An array of #ColorStop. The stops must be numbers in an ordered range.\n     */\n  colorStops: PropTypes.arrayOf(PropTypes.shape({\n    stop: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  onChange: PropTypes.func.isRequired,\n  fullWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  invalid: PropTypes.bool,\n  compressed: PropTypes.bool,\n  className: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  label: PropTypes.string.isRequired,\n\n  /**\n     *  Specify the type of stops:\n     *  `fixed`: individual color blocks.\n     *  `gradient`: each color fades into the next.\n     *  `stepped`: interpolation between colors with a fixed number of steps.\n     */\n  stopType: PropTypes.oneOf([\"fixed\", \"gradient\", \"stepped\"]),\n\n  /**\n     * Only works when `stopType=\"stepped\"`\n     */\n  stepNumber: PropTypes.number,\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Props passed to the value input field in the color stop popover.\n     * Can be used to configure functionality like append or prepend.\n     */\n  valueInputProps: PropTypes.any,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};","map":{"version":3,"sources":["/Users/inwoo/Projects/coldcallproject/coldcallproject/node_modules/@elastic/eui/es/components/color_picker/color_stops/color_stops.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","length","err","Array","isArray","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","PropTypes","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","from","test","iter","len","arr2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","arguments","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","React","useCallback","useEffect","useMemo","useState","classNames","DEFAULT_VISUALIZATION_COLOR","getSteppedGradient","EuiColorStopThumb","addStop","addDefinedStop","getPositionFromStop","getStopFromMouseLocation","isInvalid","removeStop","getChromaColor","EuiI18n","EuiScreenReaderOnly","EuiRangeHighlight","EuiRangeTrack","EuiRangeWrapper","STOP_ATTR","DEFAULT_MIN","DEFAULT_MAX","isTargetAThumb","element","attr","getAttribute","indexOf","sortStops","colorStops","map","el","index","id","sort","a","b","stop","getValidStops","isNaN","getRangeMin","min","rangeMin","stops","first","Math","getRangeMax","max","rangeMax","last","EuiColorStops","_ref","_ref$addColor","addColor","_ref$mode","mode","onChange","disabled","readOnly","compressed","fullWidth","className","label","_ref$stopType","stopType","_ref$stepNumber","stepNumber","swatches","_ref$showAlpha","showAlpha","valueInputProps","sortedStops","result","width","round","_useState","_useState2","hasFocus","setHasFocus","_useState3","_useState4","focusedStopIndex","setFocusedStopIndex","_useState5","_useState6","openedStopId","setOpenedStopId","_useState7","_useState8","wrapperRef","setWrapperRef","_useState9","_useState10","addTargetPosition","setAddTargetPosition","_useState11","_useState12","isHoverDisabled","setIsHoverDisabled","_useState13","_useState14","focusStopOnUpdate","setFocusStopOnUpdate","isNotInteractive","classes","getStopFromMouseLocationFn","location","getPositionFromStopFn","handleOnChange","onFocusStop","toFocus","querySelector","concat","focus","toFocusIndex","toFocusId","onFocusWrapper","setWrapperHasFocus","e","removeWrapperFocus","onAdd","_ref2","color","newColorStops","onRemove","disableHover","enableHover","handleAddHover","x","pageX","y","pageY","position","handleAddClick","newStop","handleKeyDown","event","ESCAPE","ENTER","BACKSPACE","ARROW_DOWN","preventDefault","ARROW_UP","_next","thumbs","handleStopChange","splice","colorStop","createElement","isRangeMin","isRangeMax","globalMin","globalMax","localMin","localMax","onFocus","parentRef","colorPickerMode","colorPickerShowAlpha","colorPickerSwatches","isPopoverOpen","openPopover","closePopover","positions","_ref3","gradientStop","rgba","css","fixedStop","gradient","trailingPercentage","endingPercentage","steppedColors","steppedGradient","percentage","percentageSteps","substring","linearGradient","ref","tabIndex","onMouseDown","onMouseUp","onMouseLeave","onKeyDown","onBlur","values","token","default","step","lowerValue","upperValue","background","onClick","onMouseMove","style","left","propTypes","string","arrayOf","shape","number","isRequired","func","bool","invalid","oneOf","any"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nimport PropTypes from \"prop-types\";\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport { keys, DEFAULT_VISUALIZATION_COLOR, getSteppedGradient } from '../../../services';\nimport { EuiColorStopThumb } from './color_stop_thumb';\nimport { addStop, addDefinedStop, getPositionFromStop, getStopFromMouseLocation, isInvalid, removeStop } from './utils';\nimport { getChromaColor } from '../utils';\nimport { EuiI18n } from '../../i18n';\nimport { EuiScreenReaderOnly } from '../../accessibility';\nimport { EuiRangeHighlight } from '../../form/range/range_highlight';\nimport { EuiRangeTrack } from '../../form/range/range_track';\nimport { EuiRangeWrapper } from '../../form/range/range_wrapper';\n// Because of how the thumbs are rendered in the popover, using ref results in an infinite loop.\n// We'll instead use old fashioned namespaced DOM selectors to get references\nvar STOP_ATTR = 'euiColorStop_';\nvar DEFAULT_MIN = 0;\nvar DEFAULT_MAX = 100;\n\nfunction isTargetAThumb(target) {\n  var element = target;\n  var attr = element.getAttribute('data-index');\n  return attr && attr.indexOf(STOP_ATTR) > -1;\n}\n\nfunction sortStops(colorStops) {\n  return colorStops.map(function (el, index) {\n    return _objectSpread(_objectSpread({}, el), {}, {\n      id: index\n    });\n  }).sort(function (a, b) {\n    return a.stop - b.stop;\n  });\n}\n\nfunction getValidStops(colorStops) {\n  return colorStops.map(function (el) {\n    return el.stop;\n  }).filter(function (stop) {\n    return !isNaN(stop);\n  });\n}\n\nfunction getRangeMin(colorStops, min) {\n  var rangeMin = min || DEFAULT_MIN;\n  var stops = getValidStops(colorStops);\n  var first = Math.min.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (first < rangeMin) {\n    if (stops.length === 1) {\n      return first - DEFAULT_MIN;\n    } else if (stops.length >= 2) {\n      return first;\n    }\n  }\n\n  return DEFAULT_MIN;\n}\n\nfunction getRangeMax(colorStops, max) {\n  var rangeMax = max || DEFAULT_MAX;\n  var stops = getValidStops(colorStops);\n  var last = Math.max.apply(Math, _toConsumableArray(stops)); // https://johnresig.com/blog/fast-javascript-maxmin/\n\n  if (last > rangeMax) {\n    if (stops.length === 1) {\n      return last + DEFAULT_MAX;\n    } else if (stops.length >= 2) {\n      return last;\n    }\n  }\n\n  return DEFAULT_MAX;\n}\n\nexport var EuiColorStops = function EuiColorStops(_ref) {\n  var _ref$addColor = _ref.addColor,\n      addColor = _ref$addColor === void 0 ? DEFAULT_VISUALIZATION_COLOR : _ref$addColor,\n      max = _ref.max,\n      min = _ref.min,\n      _ref$mode = _ref.mode,\n      mode = _ref$mode === void 0 ? 'default' : _ref$mode,\n      colorStops = _ref.colorStops,\n      onChange = _ref.onChange,\n      disabled = _ref.disabled,\n      readOnly = _ref.readOnly,\n      compressed = _ref.compressed,\n      fullWidth = _ref.fullWidth,\n      className = _ref.className,\n      label = _ref.label,\n      _ref$stopType = _ref.stopType,\n      stopType = _ref$stopType === void 0 ? 'gradient' : _ref$stopType,\n      _ref$stepNumber = _ref.stepNumber,\n      stepNumber = _ref$stepNumber === void 0 ? 10 : _ref$stepNumber,\n      swatches = _ref.swatches,\n      _ref$showAlpha = _ref.showAlpha,\n      showAlpha = _ref$showAlpha === void 0 ? false : _ref$showAlpha,\n      valueInputProps = _ref.valueInputProps;\n  var sortedStops = useMemo(function () {\n    return sortStops(colorStops);\n  }, [colorStops]);\n  var rangeMax = useMemo(function () {\n    var result = max != null ? max : getRangeMax(colorStops, max);\n    var width = max != null ? 0 : Math.round(result * 0.05);\n    return !isNaN(result) ? result + width : DEFAULT_MAX;\n  }, [colorStops, max]);\n  var rangeMin = useMemo(function () {\n    var result = min != null ? min : getRangeMin(colorStops, min);\n    var width = min != null ? 0 : Math.round(rangeMax * 0.05);\n    return !isNaN(result) ? result - width : DEFAULT_MIN;\n  }, [colorStops, min, rangeMax]);\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      hasFocus = _useState2[0],\n      setHasFocus = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      focusedStopIndex = _useState4[0],\n      setFocusedStopIndex = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      openedStopId = _useState6[0],\n      setOpenedStopId = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      wrapperRef = _useState8[0],\n      setWrapperRef = _useState8[1];\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      addTargetPosition = _useState10[0],\n      setAddTargetPosition = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isHoverDisabled = _useState12[0],\n      setIsHoverDisabled = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      focusStopOnUpdate = _useState14[0],\n      setFocusStopOnUpdate = _useState14[1];\n\n  var isNotInteractive = disabled || readOnly;\n  var classes = classNames('euiColorStops', {\n    'euiColorStops-isDragging': isHoverDisabled,\n    'euiColorStops-isDisabled': disabled,\n    'euiColorStops-isReadOnly': readOnly\n  }, className);\n\n  var getStopFromMouseLocationFn = function getStopFromMouseLocationFn(location) {\n    // Guard against `null` ref in usage\n    return getStopFromMouseLocation(location, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var getPositionFromStopFn = function getPositionFromStopFn(stop) {\n    // Guard against `null` ref in usage\n    return getPositionFromStop(stop, wrapperRef, min || rangeMin, max || rangeMax);\n  };\n\n  var handleOnChange = useCallback(function (colorStops) {\n    onChange(colorStops, isInvalid(colorStops, showAlpha));\n  }, [onChange, showAlpha]);\n  var onFocusStop = useCallback(function (index) {\n    if (disabled || !wrapperRef) return;\n    var toFocus = wrapperRef.querySelector(\"[data-index=\".concat(STOP_ATTR).concat(index, \"]\"));\n\n    if (toFocus) {\n      setHasFocus(false);\n      setFocusedStopIndex(index);\n      toFocus.focus();\n    }\n  }, [disabled, wrapperRef]);\n  useEffect(function () {\n    if (focusStopOnUpdate !== null) {\n      var toFocusIndex = sortedStops.map(function (el) {\n        return el.stop;\n      }).indexOf(focusStopOnUpdate);\n      var toFocusId = toFocusIndex > -1 ? sortedStops[toFocusIndex].id : null;\n      onFocusStop(toFocusIndex);\n      setOpenedStopId(toFocusId);\n      setFocusStopOnUpdate(null);\n    }\n  }, [sortedStops, onFocusStop, setFocusStopOnUpdate, focusStopOnUpdate]);\n  var onFocusWrapper = useCallback(function () {\n    setFocusedStopIndex(null);\n\n    if (wrapperRef) {\n      wrapperRef.focus();\n    }\n  }, [wrapperRef]);\n\n  var setWrapperHasFocus = function setWrapperHasFocus(e) {\n    if (e.target === wrapperRef) {\n      setHasFocus(true);\n    }\n  };\n\n  var removeWrapperFocus = function removeWrapperFocus() {\n    setHasFocus(false);\n  };\n\n  var onAdd = function onAdd() {\n    var stops = sortedStops.map(function (_ref2) {\n      var color = _ref2.color,\n          stop = _ref2.stop;\n      return {\n        color: color,\n        stop: stop\n      };\n    });\n    var newColorStops = addStop(stops, addColor, max || rangeMax);\n    setFocusStopOnUpdate(newColorStops[colorStops.length].stop);\n    handleOnChange(newColorStops);\n  };\n\n  var onRemove = useCallback(function (index) {\n    var newColorStops = removeStop(colorStops, index);\n    onFocusWrapper();\n    handleOnChange(newColorStops);\n  }, [colorStops, handleOnChange, onFocusWrapper]);\n\n  var disableHover = function disableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(true);\n  };\n\n  var enableHover = function enableHover() {\n    if (disabled) return;\n    setIsHoverDisabled(false);\n  };\n\n  var handleAddHover = function handleAddHover(e) {\n    if (isNotInteractive || !wrapperRef) return;\n    var stop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var position = getPositionFromStopFn(stop);\n    setAddTargetPosition(position);\n  };\n\n  var handleAddClick = function handleAddClick(e) {\n    if (isNotInteractive || isTargetAThumb(e.target) || !wrapperRef) return;\n    var newStop = getStopFromMouseLocationFn({\n      x: e.pageX,\n      y: e.pageY\n    });\n    var newColorStops = addDefinedStop(colorStops, newStop, addColor);\n    setFocusStopOnUpdate(newStop);\n    handleOnChange(newColorStops);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    if (disabled) return;\n\n    switch (event.key) {\n      case keys.ESCAPE:\n        onFocusWrapper();\n        break;\n\n      case keys.ENTER:\n        if (readOnly || !hasFocus) return;\n        onAdd();\n        break;\n\n      case keys.BACKSPACE:\n        if (readOnly || hasFocus || focusedStopIndex == null) return;\n\n        if (isTargetAThumb(event.target)) {\n          if (min == null && focusedStopIndex === 0 || max == null && focusedStopIndex === sortedStops.length - 1) {\n            return;\n          }\n\n          var index = sortedStops[focusedStopIndex].id;\n          onRemove(index);\n        }\n\n        break;\n\n      case keys.ARROW_DOWN:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var next = focusedStopIndex === sortedStops.length - 1 ? focusedStopIndex : focusedStopIndex + 1;\n            onFocusStop(next);\n          }\n        }\n\n        break;\n\n      case keys.ARROW_UP:\n        if (event.target === wrapperRef || isTargetAThumb(event.target)) {\n          event.preventDefault();\n\n          if (focusedStopIndex == null) {\n            onFocusStop(0);\n          } else {\n            var _next = focusedStopIndex === 0 ? focusedStopIndex : focusedStopIndex - 1;\n\n            onFocusStop(_next);\n          }\n        }\n\n        break;\n    }\n  };\n\n  var thumbs = useMemo(function () {\n    var handleStopChange = function handleStopChange(stop, id) {\n      var newColorStops = _toConsumableArray(colorStops);\n\n      newColorStops.splice(id, 1, stop);\n      handleOnChange(newColorStops);\n    };\n\n    return sortedStops.map(function (colorStop, index) {\n      return /*#__PURE__*/React.createElement(EuiColorStopThumb, {\n        isRangeMin: min == null && colorStop.stop === rangeMin,\n        isRangeMax: max == null && colorStop.stop === rangeMax,\n        \"data-index\": \"\".concat(STOP_ATTR).concat(index),\n        key: colorStop.id,\n        globalMin: min || rangeMin,\n        globalMax: max || rangeMax,\n        min: min,\n        max: max,\n        localMin: index === 0 ? min || rangeMin : sortedStops[index - 1].stop + 1,\n        localMax: index === sortedStops.length - 1 ? max || rangeMax : sortedStops[index + 1].stop - 1,\n        stop: colorStop.stop,\n        color: colorStop.color,\n        onRemove: sortedStops.length > 1 ? function () {\n          return onRemove(colorStop.id);\n        } : undefined,\n        onChange: function onChange(stop) {\n          return handleStopChange(stop, colorStop.id);\n        },\n        onFocus: function onFocus() {\n          return setFocusedStopIndex(index);\n        },\n        parentRef: wrapperRef,\n        colorPickerMode: mode,\n        colorPickerShowAlpha: showAlpha,\n        colorPickerSwatches: swatches,\n        disabled: disabled,\n        readOnly: readOnly,\n        \"aria-valuetext\": \"Stop: \".concat(colorStop.stop, \", Color: \").concat(colorStop.color, \" (\").concat(index + 1, \" of \").concat(colorStops.length, \")\"),\n        isPopoverOpen: colorStop.id === openedStopId,\n        openPopover: function openPopover() {\n          setOpenedStopId(colorStop.id);\n        },\n        closePopover: function closePopover() {\n          setOpenedStopId(null);\n        },\n        valueInputProps: valueInputProps\n      });\n    });\n  }, [colorStops, disabled, handleOnChange, max, min, mode, onRemove, openedStopId, rangeMax, rangeMin, readOnly, showAlpha, sortedStops, swatches, wrapperRef, valueInputProps]);\n  var positions = wrapperRef ? sortedStops.map(function (_ref3) {\n    var stop = _ref3.stop;\n    return getPositionFromStopFn(stop);\n  }) : [];\n\n  var gradientStop = function gradientStop(colorStop, index) {\n    var color = getChromaColor(colorStop.color, showAlpha);\n    var rgba = color ? color.css() : 'currentColor';\n\n    if (index === 0) {\n      return \"currentColor, currentColor \".concat(positions[index], \"%, \").concat(rgba, \" \").concat(positions[index], \"%\");\n    }\n\n    return \"\".concat(rgba, \" \").concat(positions[index], \"%\");\n  };\n\n  var fixedStop = function fixedStop(colorStop, index) {\n    if (index === sortedStops.length - 1) {\n      return gradientStop(colorStop, index);\n    } else {\n      return \"\".concat(gradientStop(colorStop, index), \", \").concat(gradientStop(colorStop, index + 1));\n    }\n  };\n\n  var gradient = '';\n\n  if (stopType === 'stepped' && positions.length > 0) {\n    var trailingPercentage = positions[0];\n    var endingPercentage = positions[positions.length - 1];\n    var steppedColors = getSteppedGradient(colorStops, stepNumber);\n    var steppedGradient = '';\n    var percentage = (endingPercentage - trailingPercentage) / steppedColors.length;\n    var percentageSteps = (endingPercentage - trailingPercentage) / steppedColors.length + trailingPercentage;\n    steppedColors.forEach(function (color) {\n      steppedGradient = steppedGradient.concat(\"\".concat(color, \" \").concat(percentageSteps - percentage, \"% \").concat(percentageSteps, \"%, \"));\n      percentageSteps = percentageSteps + percentage;\n    });\n    steppedGradient = steppedGradient.substring(0, steppedGradient.length - 2);\n    gradient = \"linear-gradient(to right, currentColor \".concat(trailingPercentage, \"%, \").concat(steppedGradient, \")\");\n  } else {\n    var linearGradient = sortedStops.map(stopType === 'gradient' ? gradientStop : fixedStop);\n    gradient = \"linear-gradient(to right,\".concat(linearGradient, \")\");\n  }\n\n  return /*#__PURE__*/React.createElement(EuiRangeWrapper, {\n    \"data-test-subj\": \"euiColorStops\",\n    ref: setWrapperRef,\n    className: classes,\n    fullWidth: fullWidth,\n    tabIndex: disabled ? -1 : 0,\n    onMouseDown: disableHover,\n    onMouseUp: enableHover,\n    onMouseLeave: enableHover,\n    onKeyDown: handleKeyDown,\n    onFocus: setWrapperHasFocus,\n    onBlur: removeWrapperFocus\n  }, /*#__PURE__*/React.createElement(EuiScreenReaderOnly, null, /*#__PURE__*/React.createElement(\"p\", {\n    \"aria-live\": \"polite\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    values: {\n      label: label,\n      disabled: disabled ? 'Disabled.' : '',\n      readOnly: readOnly ? 'Read-only.' : ''\n    },\n    token: \"euiColorStops.screenReaderAnnouncement\",\n    default: \"{label}: {readOnly} {disabled} Color stop picker. Each stop consists of a number and corresponding color value. Use the Down and Up arrow keys to select individual stops. Press the Enter key to create a new stop.\"\n  }))), /*#__PURE__*/React.createElement(EuiRangeTrack, {\n    min: min || rangeMin,\n    max: max || rangeMax,\n    compressed: compressed,\n    disabled: disabled,\n    step: 1\n  }, /*#__PURE__*/React.createElement(EuiRangeHighlight, {\n    className: \"euiColorStops__highlight\",\n    min: min || rangeMin,\n    max: max || rangeMax,\n    lowerValue: min || rangeMin,\n    upperValue: max || rangeMax,\n    background: gradient,\n    compressed: compressed\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test-subj\": \"euiColorStopsAdd\",\n    className: classNames('euiColorStops__addContainer', {\n      'euiColorStops__addContainer-isDisabled': isHoverDisabled || disabled || readOnly\n    }),\n    onClick: handleAddClick,\n    onMouseMove: handleAddHover\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"euiColorStops__addTarget\",\n    style: {\n      left: \"\".concat(addTargetPosition, \"%\")\n    }\n  })), thumbs));\n};\nEuiColorStops.propTypes = {\n  addColor: PropTypes.string,\n\n  /**\n     * An array of #ColorStop. The stops must be numbers in an ordered range.\n     */\n  colorStops: PropTypes.arrayOf(PropTypes.shape({\n    stop: PropTypes.number.isRequired,\n    color: PropTypes.string.isRequired\n  }).isRequired).isRequired,\n  onChange: PropTypes.func.isRequired,\n  fullWidth: PropTypes.bool,\n  disabled: PropTypes.bool,\n  readOnly: PropTypes.bool,\n  invalid: PropTypes.bool,\n  compressed: PropTypes.bool,\n  className: PropTypes.string,\n  max: PropTypes.number,\n  min: PropTypes.number,\n  label: PropTypes.string.isRequired,\n\n  /**\n     *  Specify the type of stops:\n     *  `fixed`: individual color blocks.\n     *  `gradient`: each color fades into the next.\n     *  `stepped`: interpolation between colors with a fixed number of steps.\n     */\n  stopType: PropTypes.oneOf([\"fixed\", \"gradient\", \"stepped\"]),\n\n  /**\n     * Only works when `stopType=\"stepped\"`\n     */\n  stepNumber: PropTypes.number,\n  mode: PropTypes.oneOf([\"default\", \"swatch\", \"picker\", \"secondaryInput\"]),\n  swatches: PropTypes.arrayOf(PropTypes.string.isRequired),\n  showAlpha: PropTypes.bool,\n\n  /**\n     * Props passed to the value input field in the color stop popover.\n     * Can be used to configure functionality like append or prepend.\n     */\n  valueInputProps: PropTypes.any,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string\n};"]},"metadata":{},"sourceType":"module"}