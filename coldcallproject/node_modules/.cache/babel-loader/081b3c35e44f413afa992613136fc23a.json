{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Component, createRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { EuiSelectableSearch } from './selectable_search';\nimport { EuiSelectableMessage } from './selectable_message';\nimport { EuiSelectableList } from './selectable_list';\nimport { EuiLoadingSpinner } from '../loading';\nimport { EuiSpacer } from '../spacer';\nimport { getMatchingOptions } from './matching_options';\nimport { keys, htmlIdGenerator } from '../../services';\nimport { EuiI18n } from '../i18n';\nexport var EuiSelectable = /*#__PURE__*/function (_Component) {\n  _inherits(EuiSelectable, _Component);\n\n  var _super = _createSuper(EuiSelectable);\n\n  function EuiSelectable(props) {\n    var _this;\n\n    _classCallCheck(this, EuiSelectable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"optionsListRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"rootId\", htmlIdGenerator());\n\n    _defineProperty(_assertThisInitialized(_this), \"hasActiveOption\", function () {\n      return _this.state.activeOptionIndex != null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      if (!_this.state.visibleOptions.length || _this.state.activeOptionIndex) {\n        return;\n      }\n\n      var firstSelected = _this.state.visibleOptions.findIndex(function (option) {\n        return option.checked && !option.disabled && !option.isGroupLabel;\n      });\n\n      if (firstSelected > -1) {\n        _this.setState({\n          activeOptionIndex: firstSelected,\n          isFocused: true\n        });\n      } else {\n        _this.setState({\n          activeOptionIndex: _this.state.visibleOptions.findIndex(function (option) {\n            return !option.disabled && !option.isGroupLabel;\n          }),\n          isFocused: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      var optionsList = _this.optionsListRef.current;\n\n      switch (event.key) {\n        case keys.ARROW_UP:\n          event.preventDefault();\n          event.stopPropagation();\n\n          _this.incrementActiveOptionIndex(-1);\n\n          break;\n\n        case keys.ARROW_DOWN:\n          event.preventDefault();\n          event.stopPropagation();\n\n          _this.incrementActiveOptionIndex(1);\n\n          break;\n\n        case keys.ENTER:\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (_this.state.activeOptionIndex != null && optionsList) {\n            optionsList.onAddOrRemoveOption(_this.state.visibleOptions[_this.state.activeOptionIndex]);\n          }\n\n          break;\n\n        default:\n          _this.setState({\n            activeOptionIndex: undefined\n          }, _this.onFocus);\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"incrementActiveOptionIndex\", function (amount) {\n      // If there are no options available, do nothing.\n      if (!_this.state.visibleOptions.length) {\n        return;\n      }\n\n      _this.setState(function (_ref) {\n        var activeOptionIndex = _ref.activeOptionIndex,\n            visibleOptions = _ref.visibleOptions;\n        var nextActiveOptionIndex;\n\n        if (activeOptionIndex == null) {\n          // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n          // either the first or last item.\n          nextActiveOptionIndex = amount < 0 ? visibleOptions.length - 1 : 0;\n        } else {\n          nextActiveOptionIndex = activeOptionIndex + amount;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = visibleOptions.length - 1;\n          } else if (nextActiveOptionIndex === visibleOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        } // Group titles and disabled options are included in option list but are not selectable\n\n\n        var direction = amount > 0 ? 1 : -1;\n\n        while (visibleOptions[nextActiveOptionIndex].isGroupLabel || visibleOptions[nextActiveOptionIndex].disabled) {\n          nextActiveOptionIndex = nextActiveOptionIndex + direction;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = visibleOptions.length - 1;\n          } else if (nextActiveOptionIndex === visibleOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        }\n\n        return {\n          activeOptionIndex: nextActiveOptionIndex\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchChange\", function (visibleOptions, searchValue) {\n      _this.setState({\n        visibleOptions: visibleOptions,\n        searchValue: searchValue,\n        activeOptionIndex: undefined\n      }, function () {\n        if (_this.state.isFocused) {\n          _this.onFocus();\n        }\n      });\n\n      if (_this.props.searchProps && _this.props.searchProps.onSearch) {\n        _this.props.searchProps.onSearch(searchValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContainerBlur\", function (e) {\n      // Ignore blur events when moving from search to option to avoid activeOptionIndex conflicts\n      if (_this.containerRef.current.contains(e.relatedTarget)) return;\n\n      _this.setState({\n        activeOptionIndex: undefined,\n        isFocused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionClick\", function (options) {\n      var _this$props = _this.props,\n          isPreFiltered = _this$props.isPreFiltered,\n          onChange = _this$props.onChange,\n          searchProps = _this$props.searchProps;\n      var searchValue = _this.state.searchValue;\n      var visibleOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n\n      _this.setState({\n        visibleOptions: visibleOptions\n      });\n\n      if (onChange) {\n        onChange(options);\n      }\n\n      if (searchProps && searchProps.onChange) {\n        searchProps.onChange(visibleOptions, searchValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollToItem\", function (index, align) {\n      var _this$optionsListRef$, _this$optionsListRef$2;\n\n      (_this$optionsListRef$ = _this.optionsListRef.current) === null || _this$optionsListRef$ === void 0 ? void 0 : (_this$optionsListRef$2 = _this$optionsListRef$.listRef) === null || _this$optionsListRef$2 === void 0 ? void 0 : _this$optionsListRef$2.scrollToItem(index, align);\n    });\n\n    var _options = props.options,\n        singleSelection = props.singleSelection,\n        _isPreFiltered = props.isPreFiltered;\n    var initialSearchValue = '';\n\n    var _visibleOptions = getMatchingOptions(_options, initialSearchValue, _isPreFiltered); // ensure that the currently selected single option is active if it is in the visibleOptions\n\n\n    var selectedOptions = _options.filter(function (option) {\n      return option.checked;\n    });\n\n    var _activeOptionIndex;\n\n    if (singleSelection && selectedOptions.length === 1) {\n      if (_visibleOptions.includes(selectedOptions[0])) {\n        _activeOptionIndex = _visibleOptions.indexOf(selectedOptions[0]);\n      }\n    }\n\n    _this.state = {\n      activeOptionIndex: _activeOptionIndex,\n      searchValue: initialSearchValue,\n      visibleOptions: _visibleOptions,\n      isFocused: false\n    };\n    return _this;\n  }\n\n  _createClass(EuiSelectable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          options = _this$props2.options,\n          onChange = _this$props2.onChange,\n          searchable = _this$props2.searchable,\n          searchProps = _this$props2.searchProps,\n          singleSelection = _this$props2.singleSelection,\n          isLoading = _this$props2.isLoading,\n          listProps = _this$props2.listProps,\n          renderOption = _this$props2.renderOption,\n          height = _this$props2.height,\n          allowExclusions = _this$props2.allowExclusions,\n          ariaLabel = _this$props2['aria-label'],\n          ariaDescribedby = _this$props2['aria-describedby'],\n          loadingMessage = _this$props2.loadingMessage,\n          noMatchesMessage = _this$props2.noMatchesMessage,\n          emptyMessage = _this$props2.emptyMessage,\n          isPreFiltered = _this$props2.isPreFiltered,\n          rest = _objectWithoutProperties(_this$props2, [\"id\", \"children\", \"className\", \"options\", \"onChange\", \"searchable\", \"searchProps\", \"singleSelection\", \"isLoading\", \"listProps\", \"renderOption\", \"height\", \"allowExclusions\", \"aria-label\", \"aria-describedby\", \"loadingMessage\", \"noMatchesMessage\", \"emptyMessage\", \"isPreFiltered\"]);\n\n      var _this$state = this.state,\n          searchValue = _this$state.searchValue,\n          visibleOptions = _this$state.visibleOptions,\n          activeOptionIndex = _this$state.activeOptionIndex; // Some messy destructuring here to remove aria-label/describedby from searchProps and listProps\n      // Made messier by some TS requirements\n      // The aria attributes are then used in getAccessibleName() to place them where they need to go\n\n      var unknownAccessibleName = {\n        'aria-label': undefined,\n        'aria-describedby': undefined\n      };\n\n      var _ref2 = searchProps || unknownAccessibleName,\n          searchAriaLabel = _ref2['aria-label'],\n          searchAriaDescribedby = _ref2['aria-describedby'],\n          propsOnChange = _ref2.onChange,\n          onSearch = _ref2.onSearch,\n          cleanedSearchProps = _objectWithoutProperties(_ref2, [\"aria-label\", \"aria-describedby\", \"onChange\", \"onSearch\"]);\n\n      var _ref3 = listProps || unknownAccessibleName,\n          listAriaLabel = _ref3['aria-label'],\n          listAriaDescribedby = _ref3['aria-describedby'],\n          cleanedListProps = _objectWithoutProperties(_ref3, [\"aria-label\", \"aria-describedby\"]);\n\n      var classes = classNames('euiSelectable', {\n        'euiSelectable-fullHeight': height === 'full'\n      }, className);\n      /** Create Id's */\n\n      var messageContentId = this.rootId('messageContent');\n      var listId = this.rootId('listbox');\n\n      var makeOptionId = function makeOptionId(index) {\n        if (typeof index === 'undefined') {\n          return '';\n        }\n\n        return \"\".concat(listId, \"_option-\").concat(index);\n      };\n      /** Create message content that replaces the list if no options are available (yet) */\n\n\n      var messageContent;\n\n      if (isLoading) {\n        if (loadingMessage === undefined || typeof loadingMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EuiLoadingSpinner, {\n            size: \"m\"\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"xs\"\n          }), /*#__PURE__*/React.createElement(\"p\", null, loadingMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.loadingOptions\",\n            default: \"Loading options\"\n          })));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(loadingMessage, _objectSpread({\n            id: messageContentId\n          }, loadingMessage.props));\n        }\n      } else if (searchValue && visibleOptions.length === 0) {\n        if (noMatchesMessage === undefined || typeof noMatchesMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(\"p\", null, noMatchesMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.noMatchingOptions\",\n            default: \"{searchValue} doesn't match any options\",\n            values: {\n              searchValue: /*#__PURE__*/React.createElement(\"strong\", null, searchValue)\n            }\n          }));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(noMatchesMessage, _objectSpread({\n            id: messageContentId\n          }, noMatchesMessage.props));\n        }\n      } else if (!options.length) {\n        if (emptyMessage === undefined || typeof emptyMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(\"p\", null, emptyMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.noAvailableOptions\",\n            default: \"No options available\"\n          }));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(emptyMessage, _objectSpread({\n            id: messageContentId\n          }, emptyMessage.props));\n        }\n      } else {\n        messageContentId = '';\n      }\n      /**\n       * There are lots of ways to add an accessible name\n       * Usually we want the same name for the input and the listbox (which is added by aria-label/describedby)\n       * But you can always override it using searchProps or listProps\n       * This finds the correct name to use\n       *\n       * TODO: This doesn't handle being labelled (<label for=\"idOfInput\">)\n       */\n\n\n      var getAccessibleName = function getAccessibleName(props, messageContentId) {\n        if (props && props['aria-label']) {\n          return {\n            'aria-label': props['aria-label']\n          };\n        }\n\n        var messageContentIdString = messageContentId ? \" \".concat(messageContentId) : '';\n\n        if (props && props['aria-describedby']) {\n          return {\n            'aria-describedby': \"\".concat(props['aria-describedby']).concat(messageContentIdString)\n          };\n        }\n\n        if (ariaLabel) {\n          return {\n            'aria-label': ariaLabel\n          };\n        }\n\n        if (ariaDescribedby) {\n          return {\n            'aria-describedby': \"\".concat(ariaDescribedby).concat(messageContentIdString)\n          };\n        }\n\n        return {};\n      };\n\n      var searchAccessibleName = getAccessibleName(searchProps, messageContentId);\n      var searchHasAccessibleName = Boolean(Object.keys(searchAccessibleName).length);\n      var search = searchable ? /*#__PURE__*/React.createElement(EuiI18n, {\n        token: \"euiSelectable.placeholderName\",\n        default: \"Filter options\"\n      }, function (placeholderName) {\n        return /*#__PURE__*/React.createElement(EuiSelectableSearch, _extends({\n          key: \"listSearch\",\n          options: options,\n          onChange: _this2.onSearchChange,\n          listId: _this2.optionsListRef.current ? listId : undefined // Only pass the listId if it exists on the page\n          ,\n          \"aria-activedescendant\": makeOptionId(activeOptionIndex) // the current faux-focused option\n          ,\n          placeholder: placeholderName,\n          isPreFiltered: isPreFiltered !== null && isPreFiltered !== void 0 ? isPreFiltered : false\n        }, searchHasAccessibleName ? searchAccessibleName : {\n          'aria-label': placeholderName\n        }, cleanedSearchProps));\n      }) : undefined;\n      var listAccessibleName = getAccessibleName(listProps);\n      var listHasAccessibleName = Boolean(Object.keys(listAccessibleName).length);\n      var list = messageContent ? /*#__PURE__*/React.createElement(EuiSelectableMessage, {\n        id: messageContentId,\n        bordered: listProps && listProps.bordered\n      }, messageContent) : /*#__PURE__*/React.createElement(EuiI18n, {\n        token: \"euiSelectable.placeholderName\",\n        default: \"Filter options\"\n      }, function (placeholderName) {\n        return /*#__PURE__*/React.createElement(EuiSelectableList, _extends({\n          key: \"list\",\n          options: options,\n          visibleOptions: visibleOptions,\n          searchValue: searchValue,\n          activeOptionIndex: activeOptionIndex,\n          setActiveOptionIndex: function setActiveOptionIndex(index, cb) {\n            _this2.setState({\n              activeOptionIndex: index\n            }, cb);\n          },\n          onOptionClick: _this2.onOptionClick,\n          singleSelection: singleSelection,\n          ref: _this2.optionsListRef,\n          renderOption: renderOption,\n          height: height,\n          allowExclusions: allowExclusions,\n          searchable: searchable,\n          makeOptionId: makeOptionId,\n          listId: listId\n        }, listHasAccessibleName ? listAccessibleName : searchable && {\n          'aria-label': placeholderName\n        }, cleanedListProps));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.containerRef,\n        className: classes,\n        onKeyDown: this.onKeyDown,\n        onBlur: this.onContainerBlur,\n        onFocus: this.onFocus\n      }, rest), children && children(list, search));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var options = nextProps.options,\n          isPreFiltered = nextProps.isPreFiltered;\n      var activeOptionIndex = prevState.activeOptionIndex,\n          searchValue = prevState.searchValue;\n      var matchingOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n      var stateUpdate = {\n        visibleOptions: matchingOptions,\n        activeOptionIndex: activeOptionIndex\n      };\n\n      if (activeOptionIndex != null && activeOptionIndex >= matchingOptions.length) {\n        stateUpdate.activeOptionIndex = -1;\n      }\n\n      return stateUpdate;\n    }\n  }]);\n\n  return EuiSelectable;\n}(Component);\n\n_defineProperty(EuiSelectable, \"defaultProps\", {\n  options: [],\n  singleSelection: false,\n  searchable: false,\n  isPreFiltered: false\n});\n\nEuiSelectable.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n       * Hooks up a search box to filter the list (boolean)\n       */\n  searchable: PropTypes.oneOfType([PropTypes.oneOf([false]).isRequired, PropTypes.oneOf([true]).isRequired]).isRequired,\n\n  /**\n       * Passes props down to the `EuiFieldSearch`\n       */\n  searchProps: PropTypes.any,\n\n  /**\n       * Function that takes the `list` node and then\n       * the `search` node (if `searchable` is applied)\n       */\n  children: PropTypes.func,\n\n  /**\n       * Array of EuiSelectableOption objects. See #EuiSelectableOptionProps\n       */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    /**\n       * Optional `boolean`.\n       * Set to `true` to indicate object is just a grouping label, not a selectable item\n       */\n    isGroupLabel: PropTypes.oneOfType([PropTypes.oneOf([true]).isRequired, PropTypes.oneOf([false])]),\n    className: PropTypes.string,\n    \"aria-label\": PropTypes.string,\n    \"data-test-subj\": PropTypes.string,\n\n    /**\n       * Visible label of option.\n       * Must be unique across items if `key` is not supplied\n       */\n    label: PropTypes.string,\n\n    /**\n       * Optionally change the searchable term by passing a different string other than the `label`.\n       * Best used when creating a custom `optionRender` to separate the label from metadata but allowing to search on both\n       */\n    searchableLabel: PropTypes.string,\n\n    /**\n       * Must be unique across items.\n       * Will be used to match options instead of `label`\n       */\n    key: PropTypes.string,\n\n    /**\n       * Leave `undefined` to indicate not selected,\n       * 'on' to indicate inclusion and\n       * 'off' to indicate exclusion\n       */\n    checked: PropTypes.oneOf([\"on\", \"off\", undefined]),\n    disabled: PropTypes.bool,\n\n    /**\n       * Node to add between the selection icon and the label\n       */\n    prepend: PropTypes.node,\n\n    /**\n       * Node to add to the far right of the item\n       */\n    append: PropTypes.node,\n    ref: PropTypes.func\n  }).isRequired).isRequired,\n\n  /**\n       * Passes back the altered `options` array with selected options as\n       */\n  onChange: PropTypes.func,\n\n  /**\n       * Sets the single selection policy of\n       * `false`: allows multiple selection\n       * `true`: only allows one selection\n       * `always`: can and must have only one selection\n       */\n  singleSelection: PropTypes.oneOfType([PropTypes.oneOf([\"always\"]), PropTypes.bool.isRequired]),\n\n  /**\n       * Allows marking options as `checked='off'` as well as `'on'`\n       */\n  allowExclusions: PropTypes.bool,\n\n  /**\n       * Show an loading indicator while you load and hook up your data\n       */\n  isLoading: PropTypes.bool,\n\n  /**\n       * Sets the max height in pixels or pass `full` to allow\n       * the whole group to fill the height of its container and\n       * allows the list grow as well\n       */\n  height: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.oneOf([\"full\"])]),\n\n  /**\n       * See #EuiSelectableOptionsList\n       */\n  listProps: PropTypes.any,\n\n  /**\n       * Custom render function for each option.\n       * Returns `(option, searchValue)`\n       */\n  renderOption: PropTypes.func,\n\n  /**\n       * Customize the loading message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  loadingMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the no matches message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  noMatchesMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the empty message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  emptyMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Control whether or not options get filtered internally or if consumer will filter\n       * Default: false\n       */\n  isPreFiltered: PropTypes.bool\n};","map":{"version":3,"sources":["/Users/inwoo/Projects/coldcallproject/coldcallproject/node_modules/@elastic/eui/es/components/selectable/selectable.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_inherits","subClass","superClass","create","value","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Date","toString","e","getPrototypeOf","React","Component","createRef","PropTypes","classNames","EuiSelectableSearch","EuiSelectableMessage","EuiSelectableList","EuiLoadingSpinner","EuiSpacer","getMatchingOptions","htmlIdGenerator","EuiI18n","EuiSelectable","_Component","_super","_this","state","activeOptionIndex","visibleOptions","firstSelected","findIndex","option","checked","disabled","isGroupLabel","setState","isFocused","event","optionsList","optionsListRef","current","ARROW_UP","preventDefault","stopPropagation","incrementActiveOptionIndex","ARROW_DOWN","ENTER","onAddOrRemoveOption","undefined","onFocus","amount","_ref","nextActiveOptionIndex","direction","searchValue","searchProps","onSearch","containerRef","contains","relatedTarget","options","_this$props","isPreFiltered","onChange","index","align","_this$optionsListRef$","_this$optionsListRef$2","listRef","scrollToItem","_options","singleSelection","_isPreFiltered","initialSearchValue","_visibleOptions","selectedOptions","_activeOptionIndex","includes","render","_this2","_this$props2","id","children","className","searchable","isLoading","listProps","renderOption","height","allowExclusions","ariaLabel","ariaDescribedby","loadingMessage","noMatchesMessage","emptyMessage","rest","_this$state","unknownAccessibleName","_ref2","searchAriaLabel","searchAriaDescribedby","propsOnChange","cleanedSearchProps","_ref3","listAriaLabel","listAriaDescribedby","cleanedListProps","classes","messageContentId","rootId","listId","makeOptionId","concat","messageContent","createElement","Fragment","size","token","default","cloneElement","values","getAccessibleName","messageContentIdString","searchAccessibleName","searchHasAccessibleName","Boolean","search","placeholderName","onSearchChange","placeholder","listAccessibleName","listHasAccessibleName","list","bordered","setActiveOptionIndex","cb","onOptionClick","ref","onKeyDown","onBlur","onContainerBlur","getDerivedStateFromProps","nextProps","prevState","matchingOptions","stateUpdate","propTypes","string","oneOfType","oneOf","isRequired","any","func","arrayOf","shape","label","searchableLabel","bool","prepend","node","append","number","element"],"mappings":"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","sourcesContent":["function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Component, createRef } from 'react';\nimport PropTypes from \"prop-types\";\nimport classNames from 'classnames';\nimport { EuiSelectableSearch } from './selectable_search';\nimport { EuiSelectableMessage } from './selectable_message';\nimport { EuiSelectableList } from './selectable_list';\nimport { EuiLoadingSpinner } from '../loading';\nimport { EuiSpacer } from '../spacer';\nimport { getMatchingOptions } from './matching_options';\nimport { keys, htmlIdGenerator } from '../../services';\nimport { EuiI18n } from '../i18n';\nexport var EuiSelectable = /*#__PURE__*/function (_Component) {\n  _inherits(EuiSelectable, _Component);\n\n  var _super = _createSuper(EuiSelectable);\n\n  function EuiSelectable(props) {\n    var _this;\n\n    _classCallCheck(this, EuiSelectable);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"containerRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"optionsListRef\", /*#__PURE__*/createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"rootId\", htmlIdGenerator());\n\n    _defineProperty(_assertThisInitialized(_this), \"hasActiveOption\", function () {\n      return _this.state.activeOptionIndex != null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function () {\n      if (!_this.state.visibleOptions.length || _this.state.activeOptionIndex) {\n        return;\n      }\n\n      var firstSelected = _this.state.visibleOptions.findIndex(function (option) {\n        return option.checked && !option.disabled && !option.isGroupLabel;\n      });\n\n      if (firstSelected > -1) {\n        _this.setState({\n          activeOptionIndex: firstSelected,\n          isFocused: true\n        });\n      } else {\n        _this.setState({\n          activeOptionIndex: _this.state.visibleOptions.findIndex(function (option) {\n            return !option.disabled && !option.isGroupLabel;\n          }),\n          isFocused: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      var optionsList = _this.optionsListRef.current;\n\n      switch (event.key) {\n        case keys.ARROW_UP:\n          event.preventDefault();\n          event.stopPropagation();\n\n          _this.incrementActiveOptionIndex(-1);\n\n          break;\n\n        case keys.ARROW_DOWN:\n          event.preventDefault();\n          event.stopPropagation();\n\n          _this.incrementActiveOptionIndex(1);\n\n          break;\n\n        case keys.ENTER:\n          event.preventDefault();\n          event.stopPropagation();\n\n          if (_this.state.activeOptionIndex != null && optionsList) {\n            optionsList.onAddOrRemoveOption(_this.state.visibleOptions[_this.state.activeOptionIndex]);\n          }\n\n          break;\n\n        default:\n          _this.setState({\n            activeOptionIndex: undefined\n          }, _this.onFocus);\n\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"incrementActiveOptionIndex\", function (amount) {\n      // If there are no options available, do nothing.\n      if (!_this.state.visibleOptions.length) {\n        return;\n      }\n\n      _this.setState(function (_ref) {\n        var activeOptionIndex = _ref.activeOptionIndex,\n            visibleOptions = _ref.visibleOptions;\n        var nextActiveOptionIndex;\n\n        if (activeOptionIndex == null) {\n          // If this is the beginning of the user's keyboard navigation of the menu, then we'll focus\n          // either the first or last item.\n          nextActiveOptionIndex = amount < 0 ? visibleOptions.length - 1 : 0;\n        } else {\n          nextActiveOptionIndex = activeOptionIndex + amount;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = visibleOptions.length - 1;\n          } else if (nextActiveOptionIndex === visibleOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        } // Group titles and disabled options are included in option list but are not selectable\n\n\n        var direction = amount > 0 ? 1 : -1;\n\n        while (visibleOptions[nextActiveOptionIndex].isGroupLabel || visibleOptions[nextActiveOptionIndex].disabled) {\n          nextActiveOptionIndex = nextActiveOptionIndex + direction;\n\n          if (nextActiveOptionIndex < 0) {\n            nextActiveOptionIndex = visibleOptions.length - 1;\n          } else if (nextActiveOptionIndex === visibleOptions.length) {\n            nextActiveOptionIndex = 0;\n          }\n        }\n\n        return {\n          activeOptionIndex: nextActiveOptionIndex\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchChange\", function (visibleOptions, searchValue) {\n      _this.setState({\n        visibleOptions: visibleOptions,\n        searchValue: searchValue,\n        activeOptionIndex: undefined\n      }, function () {\n        if (_this.state.isFocused) {\n          _this.onFocus();\n        }\n      });\n\n      if (_this.props.searchProps && _this.props.searchProps.onSearch) {\n        _this.props.searchProps.onSearch(searchValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onContainerBlur\", function (e) {\n      // Ignore blur events when moving from search to option to avoid activeOptionIndex conflicts\n      if (_this.containerRef.current.contains(e.relatedTarget)) return;\n\n      _this.setState({\n        activeOptionIndex: undefined,\n        isFocused: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOptionClick\", function (options) {\n      var _this$props = _this.props,\n          isPreFiltered = _this$props.isPreFiltered,\n          onChange = _this$props.onChange,\n          searchProps = _this$props.searchProps;\n      var searchValue = _this.state.searchValue;\n      var visibleOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n\n      _this.setState({\n        visibleOptions: visibleOptions\n      });\n\n      if (onChange) {\n        onChange(options);\n      }\n\n      if (searchProps && searchProps.onChange) {\n        searchProps.onChange(visibleOptions, searchValue);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"scrollToItem\", function (index, align) {\n      var _this$optionsListRef$, _this$optionsListRef$2;\n\n      (_this$optionsListRef$ = _this.optionsListRef.current) === null || _this$optionsListRef$ === void 0 ? void 0 : (_this$optionsListRef$2 = _this$optionsListRef$.listRef) === null || _this$optionsListRef$2 === void 0 ? void 0 : _this$optionsListRef$2.scrollToItem(index, align);\n    });\n\n    var _options = props.options,\n        singleSelection = props.singleSelection,\n        _isPreFiltered = props.isPreFiltered;\n    var initialSearchValue = '';\n\n    var _visibleOptions = getMatchingOptions(_options, initialSearchValue, _isPreFiltered); // ensure that the currently selected single option is active if it is in the visibleOptions\n\n\n    var selectedOptions = _options.filter(function (option) {\n      return option.checked;\n    });\n\n    var _activeOptionIndex;\n\n    if (singleSelection && selectedOptions.length === 1) {\n      if (_visibleOptions.includes(selectedOptions[0])) {\n        _activeOptionIndex = _visibleOptions.indexOf(selectedOptions[0]);\n      }\n    }\n\n    _this.state = {\n      activeOptionIndex: _activeOptionIndex,\n      searchValue: initialSearchValue,\n      visibleOptions: _visibleOptions,\n      isFocused: false\n    };\n    return _this;\n  }\n\n  _createClass(EuiSelectable, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          id = _this$props2.id,\n          children = _this$props2.children,\n          className = _this$props2.className,\n          options = _this$props2.options,\n          onChange = _this$props2.onChange,\n          searchable = _this$props2.searchable,\n          searchProps = _this$props2.searchProps,\n          singleSelection = _this$props2.singleSelection,\n          isLoading = _this$props2.isLoading,\n          listProps = _this$props2.listProps,\n          renderOption = _this$props2.renderOption,\n          height = _this$props2.height,\n          allowExclusions = _this$props2.allowExclusions,\n          ariaLabel = _this$props2['aria-label'],\n          ariaDescribedby = _this$props2['aria-describedby'],\n          loadingMessage = _this$props2.loadingMessage,\n          noMatchesMessage = _this$props2.noMatchesMessage,\n          emptyMessage = _this$props2.emptyMessage,\n          isPreFiltered = _this$props2.isPreFiltered,\n          rest = _objectWithoutProperties(_this$props2, [\"id\", \"children\", \"className\", \"options\", \"onChange\", \"searchable\", \"searchProps\", \"singleSelection\", \"isLoading\", \"listProps\", \"renderOption\", \"height\", \"allowExclusions\", \"aria-label\", \"aria-describedby\", \"loadingMessage\", \"noMatchesMessage\", \"emptyMessage\", \"isPreFiltered\"]);\n\n      var _this$state = this.state,\n          searchValue = _this$state.searchValue,\n          visibleOptions = _this$state.visibleOptions,\n          activeOptionIndex = _this$state.activeOptionIndex; // Some messy destructuring here to remove aria-label/describedby from searchProps and listProps\n      // Made messier by some TS requirements\n      // The aria attributes are then used in getAccessibleName() to place them where they need to go\n\n      var unknownAccessibleName = {\n        'aria-label': undefined,\n        'aria-describedby': undefined\n      };\n\n      var _ref2 = searchProps || unknownAccessibleName,\n          searchAriaLabel = _ref2['aria-label'],\n          searchAriaDescribedby = _ref2['aria-describedby'],\n          propsOnChange = _ref2.onChange,\n          onSearch = _ref2.onSearch,\n          cleanedSearchProps = _objectWithoutProperties(_ref2, [\"aria-label\", \"aria-describedby\", \"onChange\", \"onSearch\"]);\n\n      var _ref3 = listProps || unknownAccessibleName,\n          listAriaLabel = _ref3['aria-label'],\n          listAriaDescribedby = _ref3['aria-describedby'],\n          cleanedListProps = _objectWithoutProperties(_ref3, [\"aria-label\", \"aria-describedby\"]);\n\n      var classes = classNames('euiSelectable', {\n        'euiSelectable-fullHeight': height === 'full'\n      }, className);\n      /** Create Id's */\n\n      var messageContentId = this.rootId('messageContent');\n      var listId = this.rootId('listbox');\n\n      var makeOptionId = function makeOptionId(index) {\n        if (typeof index === 'undefined') {\n          return '';\n        }\n\n        return \"\".concat(listId, \"_option-\").concat(index);\n      };\n      /** Create message content that replaces the list if no options are available (yet) */\n\n\n      var messageContent;\n\n      if (isLoading) {\n        if (loadingMessage === undefined || typeof loadingMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EuiLoadingSpinner, {\n            size: \"m\"\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"xs\"\n          }), /*#__PURE__*/React.createElement(\"p\", null, loadingMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.loadingOptions\",\n            default: \"Loading options\"\n          })));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(loadingMessage, _objectSpread({\n            id: messageContentId\n          }, loadingMessage.props));\n        }\n      } else if (searchValue && visibleOptions.length === 0) {\n        if (noMatchesMessage === undefined || typeof noMatchesMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(\"p\", null, noMatchesMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.noMatchingOptions\",\n            default: \"{searchValue} doesn't match any options\",\n            values: {\n              searchValue: /*#__PURE__*/React.createElement(\"strong\", null, searchValue)\n            }\n          }));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(noMatchesMessage, _objectSpread({\n            id: messageContentId\n          }, noMatchesMessage.props));\n        }\n      } else if (!options.length) {\n        if (emptyMessage === undefined || typeof emptyMessage === 'string') {\n          messageContent = /*#__PURE__*/React.createElement(\"p\", null, emptyMessage || /*#__PURE__*/React.createElement(EuiI18n, {\n            token: \"euiSelectable.noAvailableOptions\",\n            default: \"No options available\"\n          }));\n        } else {\n          messageContent = /*#__PURE__*/React.cloneElement(emptyMessage, _objectSpread({\n            id: messageContentId\n          }, emptyMessage.props));\n        }\n      } else {\n        messageContentId = '';\n      }\n      /**\n       * There are lots of ways to add an accessible name\n       * Usually we want the same name for the input and the listbox (which is added by aria-label/describedby)\n       * But you can always override it using searchProps or listProps\n       * This finds the correct name to use\n       *\n       * TODO: This doesn't handle being labelled (<label for=\"idOfInput\">)\n       */\n\n\n      var getAccessibleName = function getAccessibleName(props, messageContentId) {\n        if (props && props['aria-label']) {\n          return {\n            'aria-label': props['aria-label']\n          };\n        }\n\n        var messageContentIdString = messageContentId ? \" \".concat(messageContentId) : '';\n\n        if (props && props['aria-describedby']) {\n          return {\n            'aria-describedby': \"\".concat(props['aria-describedby']).concat(messageContentIdString)\n          };\n        }\n\n        if (ariaLabel) {\n          return {\n            'aria-label': ariaLabel\n          };\n        }\n\n        if (ariaDescribedby) {\n          return {\n            'aria-describedby': \"\".concat(ariaDescribedby).concat(messageContentIdString)\n          };\n        }\n\n        return {};\n      };\n\n      var searchAccessibleName = getAccessibleName(searchProps, messageContentId);\n      var searchHasAccessibleName = Boolean(Object.keys(searchAccessibleName).length);\n      var search = searchable ? /*#__PURE__*/React.createElement(EuiI18n, {\n        token: \"euiSelectable.placeholderName\",\n        default: \"Filter options\"\n      }, function (placeholderName) {\n        return /*#__PURE__*/React.createElement(EuiSelectableSearch, _extends({\n          key: \"listSearch\",\n          options: options,\n          onChange: _this2.onSearchChange,\n          listId: _this2.optionsListRef.current ? listId : undefined // Only pass the listId if it exists on the page\n          ,\n          \"aria-activedescendant\": makeOptionId(activeOptionIndex) // the current faux-focused option\n          ,\n          placeholder: placeholderName,\n          isPreFiltered: isPreFiltered !== null && isPreFiltered !== void 0 ? isPreFiltered : false\n        }, searchHasAccessibleName ? searchAccessibleName : {\n          'aria-label': placeholderName\n        }, cleanedSearchProps));\n      }) : undefined;\n      var listAccessibleName = getAccessibleName(listProps);\n      var listHasAccessibleName = Boolean(Object.keys(listAccessibleName).length);\n      var list = messageContent ? /*#__PURE__*/React.createElement(EuiSelectableMessage, {\n        id: messageContentId,\n        bordered: listProps && listProps.bordered\n      }, messageContent) : /*#__PURE__*/React.createElement(EuiI18n, {\n        token: \"euiSelectable.placeholderName\",\n        default: \"Filter options\"\n      }, function (placeholderName) {\n        return /*#__PURE__*/React.createElement(EuiSelectableList, _extends({\n          key: \"list\",\n          options: options,\n          visibleOptions: visibleOptions,\n          searchValue: searchValue,\n          activeOptionIndex: activeOptionIndex,\n          setActiveOptionIndex: function setActiveOptionIndex(index, cb) {\n            _this2.setState({\n              activeOptionIndex: index\n            }, cb);\n          },\n          onOptionClick: _this2.onOptionClick,\n          singleSelection: singleSelection,\n          ref: _this2.optionsListRef,\n          renderOption: renderOption,\n          height: height,\n          allowExclusions: allowExclusions,\n          searchable: searchable,\n          makeOptionId: makeOptionId,\n          listId: listId\n        }, listHasAccessibleName ? listAccessibleName : searchable && {\n          'aria-label': placeholderName\n        }, cleanedListProps));\n      });\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.containerRef,\n        className: classes,\n        onKeyDown: this.onKeyDown,\n        onBlur: this.onContainerBlur,\n        onFocus: this.onFocus\n      }, rest), children && children(list, search));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var options = nextProps.options,\n          isPreFiltered = nextProps.isPreFiltered;\n      var activeOptionIndex = prevState.activeOptionIndex,\n          searchValue = prevState.searchValue;\n      var matchingOptions = getMatchingOptions(options, searchValue, isPreFiltered);\n      var stateUpdate = {\n        visibleOptions: matchingOptions,\n        activeOptionIndex: activeOptionIndex\n      };\n\n      if (activeOptionIndex != null && activeOptionIndex >= matchingOptions.length) {\n        stateUpdate.activeOptionIndex = -1;\n      }\n\n      return stateUpdate;\n    }\n  }]);\n\n  return EuiSelectable;\n}(Component);\n\n_defineProperty(EuiSelectable, \"defaultProps\", {\n  options: [],\n  singleSelection: false,\n  searchable: false,\n  isPreFiltered: false\n});\n\nEuiSelectable.propTypes = {\n  className: PropTypes.string,\n  \"aria-label\": PropTypes.string,\n  \"data-test-subj\": PropTypes.string,\n\n  /**\n       * Hooks up a search box to filter the list (boolean)\n       */\n  searchable: PropTypes.oneOfType([PropTypes.oneOf([false]).isRequired, PropTypes.oneOf([true]).isRequired]).isRequired,\n\n  /**\n       * Passes props down to the `EuiFieldSearch`\n       */\n  searchProps: PropTypes.any,\n\n  /**\n       * Function that takes the `list` node and then\n       * the `search` node (if `searchable` is applied)\n       */\n  children: PropTypes.func,\n\n  /**\n       * Array of EuiSelectableOption objects. See #EuiSelectableOptionProps\n       */\n  options: PropTypes.arrayOf(PropTypes.shape({\n    /**\n       * Optional `boolean`.\n       * Set to `true` to indicate object is just a grouping label, not a selectable item\n       */\n    isGroupLabel: PropTypes.oneOfType([PropTypes.oneOf([true]).isRequired, PropTypes.oneOf([false])]),\n    className: PropTypes.string,\n    \"aria-label\": PropTypes.string,\n    \"data-test-subj\": PropTypes.string,\n\n    /**\n       * Visible label of option.\n       * Must be unique across items if `key` is not supplied\n       */\n    label: PropTypes.string,\n\n    /**\n       * Optionally change the searchable term by passing a different string other than the `label`.\n       * Best used when creating a custom `optionRender` to separate the label from metadata but allowing to search on both\n       */\n    searchableLabel: PropTypes.string,\n\n    /**\n       * Must be unique across items.\n       * Will be used to match options instead of `label`\n       */\n    key: PropTypes.string,\n\n    /**\n       * Leave `undefined` to indicate not selected,\n       * 'on' to indicate inclusion and\n       * 'off' to indicate exclusion\n       */\n    checked: PropTypes.oneOf([\"on\", \"off\", undefined]),\n    disabled: PropTypes.bool,\n\n    /**\n       * Node to add between the selection icon and the label\n       */\n    prepend: PropTypes.node,\n\n    /**\n       * Node to add to the far right of the item\n       */\n    append: PropTypes.node,\n    ref: PropTypes.func\n  }).isRequired).isRequired,\n\n  /**\n       * Passes back the altered `options` array with selected options as\n       */\n  onChange: PropTypes.func,\n\n  /**\n       * Sets the single selection policy of\n       * `false`: allows multiple selection\n       * `true`: only allows one selection\n       * `always`: can and must have only one selection\n       */\n  singleSelection: PropTypes.oneOfType([PropTypes.oneOf([\"always\"]), PropTypes.bool.isRequired]),\n\n  /**\n       * Allows marking options as `checked='off'` as well as `'on'`\n       */\n  allowExclusions: PropTypes.bool,\n\n  /**\n       * Show an loading indicator while you load and hook up your data\n       */\n  isLoading: PropTypes.bool,\n\n  /**\n       * Sets the max height in pixels or pass `full` to allow\n       * the whole group to fill the height of its container and\n       * allows the list grow as well\n       */\n  height: PropTypes.oneOfType([PropTypes.number.isRequired, PropTypes.oneOf([\"full\"])]),\n\n  /**\n       * See #EuiSelectableOptionsList\n       */\n  listProps: PropTypes.any,\n\n  /**\n       * Custom render function for each option.\n       * Returns `(option, searchValue)`\n       */\n  renderOption: PropTypes.func,\n\n  /**\n       * Customize the loading message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  loadingMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the no matches message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  noMatchesMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Customize the empty message. Pass a string to simply change the text,\n       * or a node to replace the whole content.\n       */\n  emptyMessage: PropTypes.oneOfType([PropTypes.element.isRequired, PropTypes.string.isRequired]),\n\n  /**\n       * Control whether or not options get filtered internally or if consumer will filter\n       * Default: false\n       */\n  isPreFiltered: PropTypes.bool\n};"]},"metadata":{},"sourceType":"module"}