{"ast":null,"code":"function _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\nimport React, { Fragment, useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiText } from '../text';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiDragDropContext, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiDataGridColumnSortingDraggable } from './column_sorting_draggable';\nimport { getDetailsForSchema } from './data_grid_schema';\nimport { EuiToken } from '../token';\nexport var useDataGridColumnSorting = function useDataGridColumnSorting(columns, sorting, schema, schemaDetectors, displayValues) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      avilableColumnsisOpen = _useState4[0],\n      setAvailableColumnsIsOpen = _useState4[1]; // prune any non-existent/hidden columns from sorting\n\n\n  useEffect(function () {\n    if (sorting) {\n      var nextSortingColumns = [];\n      var availableColumnIds = new Set(columns.map(function (_ref) {\n        var id = _ref.id;\n        return id;\n      }));\n\n      for (var i = 0; i < sorting.columns.length; i++) {\n        var column = sorting.columns[i];\n\n        if (availableColumnIds.has(column.id)) {\n          nextSortingColumns.push(column);\n        }\n      } // if the column array lengths differ then the sorting columns have been pruned\n\n\n      if (nextSortingColumns.length !== sorting.columns.length) {\n        sorting.onSort(nextSortingColumns);\n      }\n    }\n  }, [columns, sorting]);\n  if (sorting == null) return [null];\n  var activeColumnIds = new Set(sorting.columns.map(function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  }));\n\n  var _columns$reduce = columns.reduce(function (acc, column) {\n    if (activeColumnIds.has(column.id)) {\n      acc.activeColumns.push(column);\n    } else {\n      acc.inactiveColumns.push(column);\n    }\n\n    return acc;\n  }, {\n    activeColumns: [],\n    inactiveColumns: []\n  }),\n      inactiveColumns = _columns$reduce.inactiveColumns;\n\n  function onDragEnd(_ref3) {\n    var sourceIndex = _ref3.source.index,\n        destination = _ref3.destination;\n    var destinationIndex = destination.index;\n    var nextColumns = euiDragDropReorder(sorting.columns, sourceIndex, destinationIndex);\n    sorting.onSort(nextColumns);\n  }\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': sorting.columns.length > 0\n  });\n  var numberOfSortedFields = sorting.columns.length;\n\n  var schemaDetails = function schemaDetails(id) {\n    return schema.hasOwnProperty(id) && schema[id].columnType != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType) : null;\n  };\n\n  var inactiveSortableColumns = inactiveColumns.filter(function (_ref4) {\n    var id = _ref4.id,\n        isSortable = _ref4.isSortable;\n    var schemaDetail = schemaDetails(id);\n    var sortable = true;\n\n    if (isSortable != null) {\n      sortable = isSortable;\n    } else if (schemaDetail != null) {\n      sortable = schemaDetail.hasOwnProperty('isSortable') ? schemaDetail.isSortable : true;\n    }\n\n    return sortable;\n  });\n  var columnSorting = /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSortingPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSortingPopover\",\n    button: /*#__PURE__*/React.createElement(EuiI18n, {\n      tokens: ['euiColumnSorting.button', 'euiColumnSorting.buttonActive'],\n      defaults: ['Sort fields', 'fields sorted']\n    }, function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          button = _ref6[0],\n          buttonActive = _ref6[1];\n\n      return /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        size: \"xs\",\n        iconType: \"sortable\",\n        color: \"text\",\n        className: controlBtnClasses,\n        \"data-test-subj\": \"dataGridColumnSortingButton\",\n        onClick: function onClick() {\n          return setIsOpen(!isOpen);\n        }\n      }, numberOfSortedFields > 0 ? \"\".concat(numberOfSortedFields, \" \").concat(buttonActive) : button);\n    })\n  }, sorting.columns.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    role: \"region\",\n    \"aria-live\": \"assertive\",\n    className: \"euiDataGrid__controlScroll\"\n  }, /*#__PURE__*/React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, /*#__PURE__*/React.createElement(EuiDroppable, {\n    droppableId: \"columnSorting\"\n  }, /*#__PURE__*/React.createElement(Fragment, null, sorting.columns.map(function (_ref7, index) {\n    var id = _ref7.id,\n        direction = _ref7.direction;\n    return /*#__PURE__*/React.createElement(EuiDataGridColumnSortingDraggable, {\n      key: id,\n      id: id,\n      display: displayValues[id],\n      direction: direction,\n      index: index,\n      sorting: sorting,\n      schema: schema,\n      schemaDetectors: schemaDetectors\n    });\n  }))))) : /*#__PURE__*/React.createElement(EuiText, {\n    size: \"s\",\n    color: \"subdued\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    role: \"alert\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.emptySorting\",\n    default: \"Currently no fields are sorted\"\n  }))), (inactiveSortableColumns.length > 0 || sorting.columns.length > 0) && /*#__PURE__*/React.createElement(EuiPopoverFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    gutterSize: \"m\",\n    justifyContent: \"spaceBetween\",\n    responsive: false\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, inactiveSortableColumns.length > 0 && /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSortingPopoverColumnSelection\",\n    isOpen: avilableColumnsisOpen,\n    closePopover: function closePopover() {\n      return setAvailableColumnsIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"none\",\n    button: /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      flush: \"left\",\n      iconType: \"arrowDown\",\n      iconSide: \"right\",\n      onClick: function onClick() {\n        return setAvailableColumnsIsOpen(!avilableColumnsisOpen);\n      }\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSorting.pickFields\",\n      default: \"Pick fields to sort by\"\n    }))\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.sortFieldAriaLabel\",\n    default: \"Sort by: \"\n  }, function (sortFieldAriaLabel) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"euiDataGridColumnSorting__fieldList\",\n      role: \"listbox\"\n    }, inactiveSortableColumns.map(function (_ref8) {\n      var id = _ref8.id,\n          defaultSortDirection = _ref8.defaultSortDirection;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        key: id,\n        className: \"euiDataGridColumnSorting__field\",\n        \"aria-label\": \"\".concat(sortFieldAriaLabel, \" \").concat(id),\n        role: \"option\",\n        \"aria-selected\": \"false\",\n        \"data-test-subj\": \"dataGridColumnSortingPopoverColumnSelection-\".concat(id),\n        onClick: function onClick() {\n          var nextColumns = _toConsumableArray(sorting.columns);\n\n          nextColumns.push({\n            id: id,\n            direction: defaultSortDirection || schemaDetails(id) && schemaDetails(id).defaultSortDirection || 'asc'\n          });\n          sorting.onSort(nextColumns);\n        }\n      }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        gutterSize: \"s\",\n        component: \"span\",\n        responsive: false\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiToken, {\n        iconType: schemaDetails(id) != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType).icon : 'tokenString',\n        color: schemaDetails(id) != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType).color : undefined\n      })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiText, {\n        size: \"xs\"\n      }, displayValues[id]))));\n    }));\n  }))), sorting.columns.length > 0 ? /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return sorting.onSort([]);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.clearAll\",\n    default: \"Clear sorting\"\n  }))) : null)));\n  return columnSorting;\n};","map":{"version":3,"sources":["/Users/inwoo/Projects/coldcallproject/coldcallproject/node_modules/@elastic/eui/es/components/datagrid/column_sorting.js"],"names":["_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Object","Array","from","isArray","_arrayLikeToArray","_slicedToArray","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","prototype","toString","call","slice","constructor","name","test","len","length","arr2","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","React","Fragment","useState","useEffect","classNames","EuiPopover","EuiPopoverFooter","EuiI18n","EuiText","EuiButtonEmpty","EuiFlexGroup","EuiFlexItem","EuiDragDropContext","EuiDroppable","euiDragDropReorder","EuiDataGridColumnSortingDraggable","getDetailsForSchema","EuiToken","useDataGridColumnSorting","columns","sorting","schema","schemaDetectors","displayValues","_useState","_useState2","isOpen","setIsOpen","_useState3","_useState4","avilableColumnsisOpen","setAvailableColumnsIsOpen","nextSortingColumns","availableColumnIds","Set","map","_ref","id","column","has","onSort","activeColumnIds","_ref2","_columns$reduce","reduce","acc","activeColumns","inactiveColumns","onDragEnd","_ref3","sourceIndex","source","index","destination","destinationIndex","nextColumns","controlBtnClasses","numberOfSortedFields","schemaDetails","hasOwnProperty","columnType","inactiveSortableColumns","filter","_ref4","isSortable","schemaDetail","sortable","columnSorting","createElement","closePopover","anchorPosition","panelPaddingSize","panelClassName","button","tokens","defaults","_ref5","_ref6","buttonActive","size","iconType","color","className","onClick","concat","role","droppableId","_ref7","direction","key","display","token","default","gutterSize","justifyContent","responsive","grow","flush","iconSide","sortFieldAriaLabel","_ref8","defaultSortDirection","alignItems","component","icon"],"mappings":"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","sourcesContent":["function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n/*\n * Licensed to Elasticsearch B.V. under one or more contributor\n * license agreements. See the NOTICE file distributed with\n * this work for additional information regarding copyright\n * ownership. Elasticsearch B.V. licenses this file to you under\n * the Apache License, Version 2.0 (the \"License\"); you may\n * not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *    http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { Fragment, useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { EuiPopover, EuiPopoverFooter } from '../popover';\nimport { EuiI18n } from '../i18n';\nimport { EuiText } from '../text';\nimport { EuiButtonEmpty } from '../button';\nimport { EuiFlexGroup, EuiFlexItem } from '../flex';\nimport { EuiDragDropContext, EuiDroppable, euiDragDropReorder } from '../drag_and_drop';\nimport { EuiDataGridColumnSortingDraggable } from './column_sorting_draggable';\nimport { getDetailsForSchema } from './data_grid_schema';\nimport { EuiToken } from '../token';\nexport var useDataGridColumnSorting = function useDataGridColumnSorting(columns, sorting, schema, schemaDetectors, displayValues) {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      avilableColumnsisOpen = _useState4[0],\n      setAvailableColumnsIsOpen = _useState4[1]; // prune any non-existent/hidden columns from sorting\n\n\n  useEffect(function () {\n    if (sorting) {\n      var nextSortingColumns = [];\n      var availableColumnIds = new Set(columns.map(function (_ref) {\n        var id = _ref.id;\n        return id;\n      }));\n\n      for (var i = 0; i < sorting.columns.length; i++) {\n        var column = sorting.columns[i];\n\n        if (availableColumnIds.has(column.id)) {\n          nextSortingColumns.push(column);\n        }\n      } // if the column array lengths differ then the sorting columns have been pruned\n\n\n      if (nextSortingColumns.length !== sorting.columns.length) {\n        sorting.onSort(nextSortingColumns);\n      }\n    }\n  }, [columns, sorting]);\n  if (sorting == null) return [null];\n  var activeColumnIds = new Set(sorting.columns.map(function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  }));\n\n  var _columns$reduce = columns.reduce(function (acc, column) {\n    if (activeColumnIds.has(column.id)) {\n      acc.activeColumns.push(column);\n    } else {\n      acc.inactiveColumns.push(column);\n    }\n\n    return acc;\n  }, {\n    activeColumns: [],\n    inactiveColumns: []\n  }),\n      inactiveColumns = _columns$reduce.inactiveColumns;\n\n  function onDragEnd(_ref3) {\n    var sourceIndex = _ref3.source.index,\n        destination = _ref3.destination;\n    var destinationIndex = destination.index;\n    var nextColumns = euiDragDropReorder(sorting.columns, sourceIndex, destinationIndex);\n    sorting.onSort(nextColumns);\n  }\n\n  var controlBtnClasses = classNames('euiDataGrid__controlBtn', {\n    'euiDataGrid__controlBtn--active': sorting.columns.length > 0\n  });\n  var numberOfSortedFields = sorting.columns.length;\n\n  var schemaDetails = function schemaDetails(id) {\n    return schema.hasOwnProperty(id) && schema[id].columnType != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType) : null;\n  };\n\n  var inactiveSortableColumns = inactiveColumns.filter(function (_ref4) {\n    var id = _ref4.id,\n        isSortable = _ref4.isSortable;\n    var schemaDetail = schemaDetails(id);\n    var sortable = true;\n\n    if (isSortable != null) {\n      sortable = isSortable;\n    } else if (schemaDetail != null) {\n      sortable = schemaDetail.hasOwnProperty('isSortable') ? schemaDetail.isSortable : true;\n    }\n\n    return sortable;\n  });\n  var columnSorting = /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSortingPopover\",\n    isOpen: isOpen,\n    closePopover: function closePopover() {\n      return setIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"s\",\n    panelClassName: \"euiDataGridColumnSortingPopover\",\n    button: /*#__PURE__*/React.createElement(EuiI18n, {\n      tokens: ['euiColumnSorting.button', 'euiColumnSorting.buttonActive'],\n      defaults: ['Sort fields', 'fields sorted']\n    }, function (_ref5) {\n      var _ref6 = _slicedToArray(_ref5, 2),\n          button = _ref6[0],\n          buttonActive = _ref6[1];\n\n      return /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        size: \"xs\",\n        iconType: \"sortable\",\n        color: \"text\",\n        className: controlBtnClasses,\n        \"data-test-subj\": \"dataGridColumnSortingButton\",\n        onClick: function onClick() {\n          return setIsOpen(!isOpen);\n        }\n      }, numberOfSortedFields > 0 ? \"\".concat(numberOfSortedFields, \" \").concat(buttonActive) : button);\n    })\n  }, sorting.columns.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    role: \"region\",\n    \"aria-live\": \"assertive\",\n    className: \"euiDataGrid__controlScroll\"\n  }, /*#__PURE__*/React.createElement(EuiDragDropContext, {\n    onDragEnd: onDragEnd\n  }, /*#__PURE__*/React.createElement(EuiDroppable, {\n    droppableId: \"columnSorting\"\n  }, /*#__PURE__*/React.createElement(Fragment, null, sorting.columns.map(function (_ref7, index) {\n    var id = _ref7.id,\n        direction = _ref7.direction;\n    return /*#__PURE__*/React.createElement(EuiDataGridColumnSortingDraggable, {\n      key: id,\n      id: id,\n      display: displayValues[id],\n      direction: direction,\n      index: index,\n      sorting: sorting,\n      schema: schema,\n      schemaDetectors: schemaDetectors\n    });\n  }))))) : /*#__PURE__*/React.createElement(EuiText, {\n    size: \"s\",\n    color: \"subdued\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    role: \"alert\"\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.emptySorting\",\n    default: \"Currently no fields are sorted\"\n  }))), (inactiveSortableColumns.length > 0 || sorting.columns.length > 0) && /*#__PURE__*/React.createElement(EuiPopoverFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    gutterSize: \"m\",\n    justifyContent: \"spaceBetween\",\n    responsive: false\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, inactiveSortableColumns.length > 0 && /*#__PURE__*/React.createElement(EuiPopover, {\n    \"data-test-subj\": \"dataGridColumnSortingPopoverColumnSelection\",\n    isOpen: avilableColumnsisOpen,\n    closePopover: function closePopover() {\n      return setAvailableColumnsIsOpen(false);\n    },\n    anchorPosition: \"downLeft\",\n    panelPaddingSize: \"none\",\n    button: /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n      size: \"xs\",\n      flush: \"left\",\n      iconType: \"arrowDown\",\n      iconSide: \"right\",\n      onClick: function onClick() {\n        return setAvailableColumnsIsOpen(!avilableColumnsisOpen);\n      }\n    }, /*#__PURE__*/React.createElement(EuiI18n, {\n      token: \"euiColumnSorting.pickFields\",\n      default: \"Pick fields to sort by\"\n    }))\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.sortFieldAriaLabel\",\n    default: \"Sort by: \"\n  }, function (sortFieldAriaLabel) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"euiDataGridColumnSorting__fieldList\",\n      role: \"listbox\"\n    }, inactiveSortableColumns.map(function (_ref8) {\n      var id = _ref8.id,\n          defaultSortDirection = _ref8.defaultSortDirection;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        key: id,\n        className: \"euiDataGridColumnSorting__field\",\n        \"aria-label\": \"\".concat(sortFieldAriaLabel, \" \").concat(id),\n        role: \"option\",\n        \"aria-selected\": \"false\",\n        \"data-test-subj\": \"dataGridColumnSortingPopoverColumnSelection-\".concat(id),\n        onClick: function onClick() {\n          var nextColumns = _toConsumableArray(sorting.columns);\n\n          nextColumns.push({\n            id: id,\n            direction: defaultSortDirection || schemaDetails(id) && schemaDetails(id).defaultSortDirection || 'asc'\n          });\n          sorting.onSort(nextColumns);\n        }\n      }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        gutterSize: \"s\",\n        component: \"span\",\n        responsive: false\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiToken, {\n        iconType: schemaDetails(id) != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType).icon : 'tokenString',\n        color: schemaDetails(id) != null ? getDetailsForSchema(schemaDetectors, schema[id].columnType).color : undefined\n      })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiText, {\n        size: \"xs\"\n      }, displayValues[id]))));\n    }));\n  }))), sorting.columns.length > 0 ? /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n    size: \"xs\",\n    flush: \"right\",\n    onClick: function onClick() {\n      return sorting.onSort([]);\n    }\n  }, /*#__PURE__*/React.createElement(EuiI18n, {\n    token: \"euiColumnSorting.clearAll\",\n    default: \"Clear sorting\"\n  }))) : null)));\n  return columnSorting;\n};"]},"metadata":{},"sourceType":"module"}